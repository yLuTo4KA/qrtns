(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,89089,e=>{"use strict";let t;function r(e){if(t)return e();t=new Map;try{e()}finally{t.forEach(e=>e()),t=void 0}}function s(e,r){r||(r={});let s=r.equals||Object.is,i=[],o=e,a=e=>{if(!s(o,e)){var r;let s=o;o=e,r=()=>{[...i].forEach(([t,r])=>{t(e,s),r&&l(t,!0)})},t?t.set(c,r):r()}};function u(e){let t="object"!=typeof e?{once:e}:e;return{once:t.once||!1,signal:t.signal||!1}}let l=(e,t)=>{let r=u(t),s=i.findIndex(([t,s])=>t===e&&s.once===r.once&&s.signal===r.signal);s>=0&&i.splice(s,1)},c=Object.assign(function(){var e;return e=c,n.length&&n[n.length-1].add(e),o},{destroy(){i=[]},set:a,reset(){a(e)},sub:(e,t)=>(i.push([e,u(t)]),()=>l(e,t)),unsub:l,unsubAll(){i=i.filter(e=>e[1].signal)}});return c}let n=[];function i(e,t){let r=new Set,i;function o(){return i||(i=s(u(),t))}function a(){o().set(u())}function u(){let t;r.forEach(e=>{e.unsub(a,{signal:!0})});let s=new Set;n.push(s);try{t=e()}finally{n.pop()}return s.forEach(e=>{e.sub(a,{signal:!0})}),r=s,t}return Object.assign(function(){return o()()},{destroy(){o().destroy()},sub:(...e)=>o().sub(...e),unsub(...e){o().unsub(...e)},unsubAll(...e){o().unsubAll(...e)}})}e.s(["batch",()=>r,"computed",()=>i,"signal",()=>s])},43240,35353,98321,31171,58463,e=>{"use strict";function t(e){return{lang:e?.lang??a?.lang,message:e?.message,abortEarly:e?.abortEarly??a?.abortEarly,abortPipeEarly:e?.abortPipeEarly??a?.abortPipeEarly}}function r(e,t,r,s,n){var i,o,a,p;let h,d=n&&"input"in n?n.input:r.value,f=n?.expected??e.expects??null,_=n?.received??("string"==(h=typeof d)?`"${d}"`:"number"===h||"bigint"===h||"boolean"===h?`${d}`:"object"===h||"function"===h?(d&&Object.getPrototypeOf(d)?.constructor?.name)??"null":h),m={kind:e.kind,type:e.type,input:d,expected:f,received:_,message:`Invalid ${t}: ${f?`Expected ${f} but r`:"R"}eceived ${_}`,requirement:e.requirement,path:n?.path,issues:n?.issues,lang:s.lang,abortEarly:s.abortEarly,abortPipeEarly:s.abortPipeEarly},b="schema"===e.kind,g=n?.message??e.message??(i=e.reference,o=m.lang,c?.get(i)?.get(o))??(b?(a=m.lang,l?.get(a)):null)??s.message??(p=m.lang,u?.get(p));void 0!==g&&(m.message="function"==typeof g?g(m):g),b&&(r.typed=!1),r.issues?r.issues.push(m):r.issues=[m]}function s(e){return{version:1,vendor:"valibot",validate:r=>e["~run"]({value:r},t())}}function n(e,t){return Object.hasOwn(e,t)&&"__proto__"!==t&&"prototype"!==t&&"constructor"!==t}var i,o,a,u,l,c,p=class extends Error{constructor(e){super(e[0].message),this.name="ValiError",this.issues=e}};function h(e,t){return{kind:"validation",type:"check",reference:h,async:!1,expects:null,requirement:e,message:t,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&r(this,"input",e,t),e}}}function d(e){return{kind:"validation",type:"integer",reference:d,async:!1,expects:null,requirement:Number.isInteger,message:e,"~run"(e,t){return e.typed&&!this.requirement(e.value)&&r(this,"integer",e,t),e}}}function f(e){return{kind:"transformation",type:"transform",reference:f,async:!1,operation:e,"~run"(e){return e.value=this.operation(e.value),e}}}function _(e,t,r){return"function"==typeof e.default?e.default(t,r):e.default}function m(e,t){return!e["~run"]({value:t},{abortEarly:!0}).issues}function b(){return{kind:"schema",type:"any",reference:b,expects:"any",async:!1,get"~standard"(){return s(this)},"~run":e=>(e.typed=!0,e)}}function g(e,t){return{kind:"schema",type:"array",reference:g,expects:"Array",async:!1,item:e,message:t,get"~standard"(){return s(this)},"~run"(e,t){let s=e.value;if(Array.isArray(s)){e.typed=!0,e.value=[];for(let r=0;r<s.length;r++){let n=s[r],i=this.item["~run"]({value:n},t);if(i.issues){let o={type:"array",origin:"value",input:s,key:r,value:n};for(let t of i.issues)t.path?t.path.unshift(o):t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}i.typed||(e.typed=!1),e.value.push(i.value)}}else r(this,"type",e,t);return e}}}function v(e){return{kind:"schema",type:"boolean",reference:v,expects:"boolean",async:!1,message:e,get"~standard"(){return s(this)},"~run"(e,t){return"boolean"==typeof e.value?e.typed=!0:r(this,"type",e,t),e}}}function y(e){return{kind:"schema",type:"date",reference:y,expects:"Date",async:!1,message:e,get"~standard"(){return s(this)},"~run"(e,t){return e.value instanceof Date?isNaN(e.value)?r(this,"type",e,t,{received:'"Invalid Date"'}):e.typed=!0:r(this,"type",e,t),e}}}function w(e){return{kind:"schema",type:"function",reference:w,expects:"Function",async:!1,message:e,get"~standard"(){return s(this)},"~run"(e,t){return"function"==typeof e.value?e.typed=!0:r(this,"type",e,t),e}}}function C(e,t){return{kind:"schema",type:"instance",reference:C,expects:e.name,async:!1,class:e,message:t,get"~standard"(){return s(this)},"~run"(e,t){return e.value instanceof this.class?e.typed=!0:r(this,"type",e,t),e}}}function F(e,t){return{kind:"schema",type:"loose_object",reference:F,expects:"Object",async:!1,entries:e,message:t,get"~standard"(){return s(this)},"~run"(e,t){let s=e.value;if(s&&"object"==typeof s){for(let n in e.typed=!0,e.value={},this.entries){let i=this.entries[n];if(n in s||("exact_optional"===i.type||"optional"===i.type||"nullish"===i.type)&&void 0!==i.default){let r=n in s?s[n]:_(i),o=i["~run"]({value:r},t);if(o.issues){let i={type:"object",origin:"value",input:s,key:n,value:r};for(let t of o.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}o.typed||(e.typed=!1),e.value[n]=o.value}else if(void 0!==i.fallback)e.value[n]="function"==typeof i.fallback?i.fallback(void 0,void 0):i.fallback;else if("exact_optional"!==i.type&&"optional"!==i.type&&"nullish"!==i.type&&(r(this,"key",e,t,{input:void 0,expected:`"${n}"`,path:[{type:"object",origin:"key",input:s,key:n,value:s[n]}]}),t.abortEarly))break}if(!e.issues||!t.abortEarly)for(let t in s)!n(s,t)||t in this.entries||(e.value[t]=s[t])}else r(this,"type",e,t);return e}}}function S(e,t){return{kind:"schema",type:"nullish",reference:S,expects:`(${e.expects} | null | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return s(this)},"~run"(e,t){return(null===e.value||void 0===e.value)&&(void 0!==this.default&&(e.value=_(this,e,t)),null===e.value||void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function k(e){return{kind:"schema",type:"number",reference:k,expects:"number",async:!1,message:e,get"~standard"(){return s(this)},"~run"(e,t){return"number"!=typeof e.value||isNaN(e.value)?r(this,"type",e,t):e.typed=!0,e}}}function E(e,t){return{kind:"schema",type:"optional",reference:E,expects:`(${e.expects} | undefined)`,async:!1,wrapped:e,default:t,get"~standard"(){return s(this)},"~run"(e,t){return void 0===e.value&&(void 0!==this.default&&(e.value=_(this,e,t)),void 0===e.value)?(e.typed=!0,e):this.wrapped["~run"](e,t)}}}function x(e,t,i){return{kind:"schema",type:"record",reference:x,expects:"Object",async:!1,key:e,value:t,message:i,get"~standard"(){return s(this)},"~run"(e,t){let s=e.value;if(s&&"object"==typeof s){for(let r in e.typed=!0,e.value={},s)if(n(s,r)){let n=s[r],i=this.key["~run"]({value:r},t);if(i.issues){let o={type:"object",origin:"key",input:s,key:r,value:n};for(let t of i.issues)t.path=[o],e.issues?.push(t);if(e.issues||(e.issues=i.issues),t.abortEarly){e.typed=!1;break}}let o=this.value["~run"]({value:n},t);if(o.issues){let i={type:"object",origin:"value",input:s,key:r,value:n};for(let t of o.issues)t.path?t.path.unshift(i):t.path=[i],e.issues?.push(t);if(e.issues||(e.issues=o.issues),t.abortEarly){e.typed=!1;break}}i.typed&&o.typed||(e.typed=!1),i.typed&&(e.value[i.value]=o.value)}}else r(this,"type",e,t);return e}}}function A(e){return{kind:"schema",type:"string",reference:A,expects:"string",async:!1,message:e,get"~standard"(){return s(this)},"~run"(e,t){return"string"==typeof e.value?e.typed=!0:r(this,"type",e,t),e}}}function T(e){let t;if(e)for(let r of e)t?t.push(...r.issues):t=r.issues;return t}function q(e,t){let n;return{kind:"schema",type:"union",reference:q,expects:(n=[...new Set(e.map(e=>e.expects))]).length>1?`(${n.join(" | ")})`:n[0]??"never",async:!1,options:e,message:t,get"~standard"(){return s(this)},"~run"(e,t){let s,n,i;for(let r of this.options){let o=r["~run"]({value:e.value},t);if(o.typed)if(o.issues)n?n.push(o):n=[o];else{s=o;break}else i?i.push(o):i=[o]}if(s)return s;if(n){if(1===n.length)return n[0];r(this,"type",e,t,{issues:T(n)}),e.typed=!0}else{if(i?.length===1)return i[0];r(this,"type",e,t,{issues:T(i)})}return e}}}function P(){return{kind:"schema",type:"unknown",reference:P,expects:"unknown",async:!1,get"~standard"(){return s(this)},"~run":e=>(e.typed=!0,e)}}function I(e,r,s){let n=e["~run"]({value:r},t(s));if(n.issues)throw new p(n.issues);return n.value}function B(...e){return{...e[0],pipe:e,get"~standard"(){return s(this)},"~run"(t,r){for(let s of e)if("metadata"!==s.kind){if(t.issues&&("schema"===s.kind||"transformation"===s.kind)){t.typed=!1;break}t.issues&&(r.abortEarly||r.abortPipeEarly)||(t=s["~run"](t,r))}return t}}}function R(e,r,s){let n=e["~run"]({value:r},t(s));return{typed:n.typed,success:!n.issues,output:n.value,issues:n.issues}}e.s(["any",()=>b,"array",()=>g,"boolean",()=>v,"check",()=>h,"date",()=>y,"function",()=>w,"instance",()=>C,"integer",()=>d,"is",()=>m,"looseObject",()=>F,"nullish",()=>S,"number",()=>k,"optional",()=>E,"parse",()=>I,"pipe",()=>B,"record",()=>x,"safeParse",()=>R,"string",()=>A,"transform",()=>f,"union",()=>q,"unknown",()=>P],43240);var M=Object.defineProperty,V=(e,t,r)=>{let s;return(s="symbol"!=typeof t?t+"":t)in e?M(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r},L=Object.defineProperty,j=(e,t,r)=>{let s;return(s="symbol"!=typeof t?t+"":t)in e?L(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r};function O(e){return t=>t instanceof e}function $(e,t){let r=class extends Error{constructor(...r){super(..."function"==typeof t?t(...r):"string"==typeof t?[t]:t||[]),this.name=e}};return j(r,"is",O(r)),Object.defineProperty(r,"name",{value:e}),r}function U(e,t,r){let s=class extends $(e,r){constructor(...e){super(...e),j(this,"data"),this.data=t(...e)}};return j(s,"is",O(s)),Object.defineProperty(s,"name",{value:e}),s}class D extends $("CancelledError","Promise was canceled"){}class G extends U("TimeoutError",e=>({timeout:e}),(e,t)=>[`Timeout reached: ${e}ms`,{cause:t}]){}let W=Symbol("resolved");function N(e,t){return e.reject=t.reject,e.resolve=t.resolve,e}class H extends Promise{constructor(e,t){let r,s,n,i,o,a;"function"==typeof e?(n=e,i=t||{}):i=e||{};let u={};const l=[],c=()=>{l.forEach(e=>e()),l.splice(0,l.length),u={}},p=new AbortController;super((e,t)=>{let{abortOnResolve:h=!0,abortOnReject:d=!0}=i;s=t=>{var r,s;o||a||(e(t),o=[t],null==(r=u.resolved)||r.forEach(e=>e(t)),null==(s=u.finalized)||s.forEach(e=>e({kind:"resolved",result:t})),c(),h&&p.abort({tag:W,value:t}))},r=e=>{var r,s;o||a||(t(e),a=[e],null==(r=u.rejected)||r.forEach(t=>t(e)),null==(s=u.finalized)||s.forEach(t=>t({kind:"rejected",reason:e})),c(),d&&p.abort(e))};let{abortSignal:f}=i;if(f){if(f.aborted)return r(f.reason);let e=()=>{r(f.reason)};f.addEventListener("abort",e,!0),l.push(()=>{f.removeEventListener("abort",e,!0)})}let{timeout:_}=i;if(_){let e=setTimeout(()=>{r(new G(_))},_);l.push(()=>{clearTimeout(e)})}try{let e=()=>{},t=n&&n(s,r,{abortSignal:p.signal,get isRejected(){return!!a},get isResolved(){return!!o},on(t,r){if(o||a){if("finalized"===t){let e=o?{kind:"resolved",result:o[0]}:{kind:"rejected",reason:a[0]};r(e)}else"resolved"===t&&o?r(o[0]):"rejected"===t&&a&&r(a[0]);return e}return u[t]||(u[t]=[]),u[t].push(r),()=>{let e=u[t]||[],s=e.indexOf(r);s>=0&&e.splice(s,1)}},get result(){return null==o?void 0:o[0]},get rejectReason(){return null==a?void 0:a[0]},throwIfRejected(){if(a)throw a[0]}});t instanceof Promise&&t.catch(r)}catch(e){r(e)}}),V(this,"reject"),V(this,"resolve"),this.reject=r,this.resolve=s}static fn(e,t){return new H(async(t,r,s)=>{try{t(await e(s))}catch(e){r(e)}},t)}static resolve(e){return this.fn(()=>e)}static reject(e){return new H((t,r)=>{r(e)})}cancel(){this.reject(new D)}catch(e){return this.then(void 0,e)}finally(e){return N(super.finally(e),this)}then(e,t){return N(super.then(e,t),this)}}function K(e){return e.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function z(e){return e.replace(/_([a-z])/g,(e,t)=>`-${t.toLowerCase()}`)}function J(e){return`tapps/${e}`}function Q(e,t){sessionStorage.setItem(J(e),JSON.stringify(t))}function Z(e){let t=sessionStorage.getItem(J(e));try{return t?JSON.parse(t):void 0}catch{}}function Y(...e){let t=e.flat(1);return[t.push.bind(t),()=>{t.forEach(e=>{e()})}]}function X(e,t){t||(t={});let{textColor:r,bgColor:s,shouldLog:n}=t,i=void 0===n||n,o="boolean"==typeof i?()=>i:i,a=(t,n,...i)=>{if(n||o()){let n="font-weight:bold;padding:0 5px;border-radius:100px",[o,a,u]={log:["#0089c3","white","INFO"],error:["#ff0000F0","white","ERR"],warn:["#D38E15","white","WARN"]}[t];console[t](`%c${u} ${Intl.DateTimeFormat("en-GB",{hour:"2-digit",minute:"2-digit",second:"2-digit",fractionalSecondDigits:3,timeZone:"UTC"}).format(new Date)}%c %c${e}`,`${n};background-color:${o};color:${a}`,"",`${n};${r?`color:${r};`:""}${s?`background-color:${s}`:""}`,...i)}};return[["log","forceLog"],["warn","forceWarn"],["error","forceError"]].reduce((e,[t,r])=>(e[t]=a.bind(void 0,t,!1),e[r]=a.bind(void 0,t,!0),e),{})}e.s(["BetterPromise",()=>H,"CancelledError",()=>D,"TimeoutError",()=>G],35353);var ee=function(e,t,r){if(r||2==arguments.length)for(var s,n=0,i=t.length;n<i;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function et(e,t,r,s,n,i,o,a,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return s(r(t(e.apply(this,arguments))))};case 5:return function(){return n(s(r(t(e.apply(this,arguments)))))};case 6:return function(){return i(n(s(r(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(n(s(r(t(e.apply(this,arguments)))))))};case 8:return function(){return a(o(i(n(s(r(t(e.apply(this,arguments))))))))};case 9:return function(){return u(a(o(i(n(s(r(t(e.apply(this,arguments)))))))))}}}function er(e,t,r,s,n,i,o,a,u){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return s(r(t(e)));case 5:return n(s(r(t(e))));case 6:return i(n(s(r(t(e)))));case 7:return o(i(n(s(r(t(e))))));case 8:return a(o(i(n(s(r(t(e)))))));case 9:return u(a(o(i(n(s(r(t(e))))))));default:for(var l=arguments[0],c=1;c<arguments.length;c++)l=arguments[c](l);return l}}var es=function(e,t){var r="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return r(arguments)?t.apply(this,e):function(r){return t.apply(void 0,ee([r],e,!1))}}},en=function(e){return{_tag:"Left",left:e}},ei=function(e){return{_tag:"Right",right:e}},eo=function(e){return"Left"===e._tag},ea=function(e,t){return function(r){return eo(r)?e(r.left):t(r.right)}},eu=function(e,t){return er(e,el(t))},el=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},ec=function(e){return function(){return Promise.resolve(e)}},ep=es(2,function(e,t){return function(){return Promise.resolve().then(e).then(function(e){return t(e)()})}}),eh="Task",ed=ec,ef=function(e,t){var r,s,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){var l=[a,u];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(r=1,s&&(n=2&l[0]?s.return:l[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,l[1])).done)return n;switch(s=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,s=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],s=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},e_=et(en,ed),em=et(ei,ed),eb=(i={URI:eh,map:eu},function(e,t){return function(r){return i.map(r,ea(e,t))}}),eg=es(2,(o={URI:eh,map:eu,of:ec,ap:function(e,t){var r;return er(e,(r=t,function(e){return function(){return Promise.all([Promise.resolve().then(e),Promise.resolve().then(r)]).then(function(e){return(0,e[0])(e[1])})}}))},chain:ep},function(e,t){return o.chain(e,function(e){return eo(e)?o.of(e):t(e.right)})}));function ev(e){let t=e=>{throw e};return"function"==typeof e?H.resolve(er(e,eb(t,e=>e))()):er(e,ea(t,e=>e))}function ey(e){return Object.assign((...t)=>ev(e(...t)),e)}let ew=Object.assign((e,t)=>{var r,s;return er((r=()=>new H((t,r,s)=>e(e=>t(ei(e)),e=>t(en(e)),s),t),s=e=>e,function(){var e,t,n,i;return e=void 0,t=void 0,n=void 0,i=function(){return ef(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,r().then(ei)];case 1:return[2,e.sent()];case 2:return[2,en(s(e.sent()))];case 3:return[2]}})},new(n||(n=Promise))(function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((i=i.apply(e,t||[])).next())})}),eg(ea(e_,em)))},{fn:(e,t)=>ew((t,r,s)=>{let n=e(s);er("function"==typeof n?n:ec(n),eb(r,t))()},t)});e.s(["BetterTaskEither",()=>ew,"camelToKebab",()=>K,"createCbCollector",()=>Y,"createLogger",()=>X,"deepSnakeToCamelObjKeys",()=>function e(t){let r=Object.entries(t).reduce((e,[t,r])=>(e[t.replace(/_[a-z]/g,e=>e[1].toUpperCase())]=r,e),{});for(let t in r){let s=r[t];!s||"object"!=typeof s||s instanceof Date||(r[t]=Array.isArray(s)?s.map(e):e(s))}return r},"getStorageValue",()=>Z,"setStorageValue",()=>Q,"snakeToKebab",()=>z,"throwifyAnyEither",()=>ev,"throwifyFpFn",()=>ey],98321);var eC=function(e){return{_tag:"Left",left:e}},eF=function(e){return{_tag:"Right",right:e}},eS=function(e,t){try{return eF(e())}catch(e){return eC(t(e))}};function ek(e){return B(A(),B(A(),h(e=>{try{return JSON.parse(e),!0}catch{return!1}},"Input is not a valid JSON value"),f(JSON.parse),e))}function eE(e){let t;return B(q([A(),C(URLSearchParams)]),(t=t=>{let r={};return new URLSearchParams(t).forEach((e,t)=>{let s=r[t];Array.isArray(s)?s.push(e):void 0===s?r[t]=e:r[t]=[s,e]}),I(e,r)},B(q([A(),C(URLSearchParams)]),h(e=>{try{return t(e),!0}catch{return!1}},"The value doesn't match required schema"),f(t))))}function ex(e){return t=>e.test(t)}let eA=ex(/^#[\da-f]{3}$/i),eT=ex(/^#[\da-f]{4}$/i),eq=ex(/^#[\da-f]{6}$/i),eP=ex(/^#[\da-f]{8}$/i);function eI(e){return[eq,eP,eA,eT].some(t=>t(e))}function eB(e){let t="#";for(let r=0;r<e.length-1;r+=1)t+=e[1+r].repeat(2);return t}function eR(e){let t=e.replace(/\s/g,"").toLowerCase();if(/^#[\da-f]{3}$/i.test(t))return eF(eB(t.toLowerCase()+"f"));if(/^#[\da-f]{4}$/i.test(t))return eF(eB(t.toLowerCase()));if(/^#[\da-f]{6}$/i.test(t))return eF(t.toLowerCase()+"ff");if(/^#[\da-f]{8}$/i.test(t))return eF(t.toLowerCase());let r=t.match(/^rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)$/)||t.match(/^rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(\d{1,3})\)$/);return r?eF(r.slice(1).reduce((e,t)=>e+parseInt(t,10).toString(16).padStart(2,"0"),"#").padEnd(9,"f")):eC(Error(`Value "${e}" does not satisfy any of known RGB formats.`))}function eM(e){var t;return function(e,t,r,s,n,i,o,a,u){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return s(r(t(e)));case 5:return n(s(r(t(e))));case 6:return i(n(s(r(t(e)))));case 7:return o(i(n(s(r(t(e))))));case 8:return a(o(i(n(s(r(t(e)))))));case 9:return u(a(o(i(n(s(r(t(e))))))));default:for(var l=arguments[0],c=1;c<arguments.length;c++)l=arguments[c](l);return l}}(eR(e),(t=e=>e.slice(0,7),function(e){return"Left"===e._tag?e:eF(t(e.right))}))}let eV=ey(eM),eL=ey(eR);function ej(){return F({added_to_attachment_menu:E(v()),allows_write_to_pm:E(v()),first_name:A(),id:k(),is_bot:E(v()),is_premium:E(v()),last_name:E(A()),language_code:E(A()),photo_url:E(A()),username:E(A())})}function eO(){return eE(F({auth_date:B(A(),f(e=>new Date(1e3*Number(e))),y()),can_send_after:E(B(A(),f(Number),d())),chat:E(ek(F({id:k(),photo_url:E(A()),type:A(),title:A(),username:E(A())}))),chat_type:E(A()),chat_instance:E(A()),hash:A(),query_id:E(A()),receiver:E(ek(ej())),start_param:E(A()),signature:A(),user:E(ek(ej()))}))}function e$(){return x(A(),B(q([A(),k()]),f(e=>"number"==typeof e?`#${(0xffffff&e).toString(16).padStart(6,"0")}`:e),h(eI)))}function eU(){return F({eventType:A(),eventData:E(P())})}function eD(e){return eS(()=>I(eO(),e),e=>e)}function eG(e){return eS(()=>{let t;return I(eE(F({tgWebAppBotInline:t=E(B(A(),f(e=>"1"===e))),tgWebAppData:E(eO()),tgWebAppDefaultColors:E(ek(e$())),tgWebAppFullscreen:t,tgWebAppPlatform:A(),tgWebAppShowSettings:t,tgWebAppStartParam:E(A()),tgWebAppThemeParams:ek(e$()),tgWebAppVersion:A()})),e)},e=>e)}let eW=ey(eD),eN=ey(eG);function eH(e,t){return t||(t=(e,t)=>JSON.stringify(t)),new URLSearchParams(Object.entries(e).reduce((e,[r,s])=>(Array.isArray(s)?e.push(...s.map(e=>[r,String(e)])):null!=s&&e.push([r,s instanceof Date?(s.getTime()/1e3|0).toString():"string"==typeof s||"number"==typeof s?String(s):"boolean"==typeof s?s?"1":"0":t(r,s)]),e),[])).toString()}function eK(e){return eH(e)}function ez(e){return eH(e,(e,t)=>"tgWebAppData"===e?eH(t):JSON.stringify(t))}e.s(["isAnyRGB",()=>eI,"isRGB",()=>eq,"isRGBA",()=>eP,"isRGBAShort",()=>eT,"isRGBShort",()=>eA,"miniAppsMessage",()=>eU,"parseInitDataQuery",()=>eW,"parseInitDataQueryFp",()=>eD,"parseLaunchParamsQuery",()=>eN,"parseLaunchParamsQueryFp",()=>eG,"pipeJsonToSchema",()=>ek,"pipeQueryToSchema",()=>eE,"serializeInitDataQuery",()=>eK,"serializeLaunchParamsQuery",()=>ez,"themeParams",()=>e$,"toRGB",()=>eV,"toRGBFp",()=>eM,"toRGBFull",()=>eL,"toRGBFullFp",()=>eR],31171);var eJ=Object.defineProperty,eQ=(e,t,r)=>{let s;return(s="symbol"!=typeof t?t+"":t)in e?eJ(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r};function eZ(e){return t=>t instanceof e}function eY(e,t){let r=class extends Error{constructor(...r){super(..."function"==typeof t?t(...r):"string"==typeof t?[t]:t||[]),this.name=e}};return eQ(r,"is",eZ(r)),Object.defineProperty(r,"name",{value:e}),r}function eX(e,t,r){let s=class extends eY(e,r){constructor(...e){super(...e),eQ(this,"data"),this.data=t(...e)}};return eQ(s,"is",eZ(s)),Object.defineProperty(s,"name",{value:e}),s}e.s(["errorClass",()=>eY,"errorClassWithData",()=>eX],58463)},99780,34723,e=>{"use strict";let t,r,s,n,i,o,a,u;var l,c,p,h,d,f,_,m,b,g,v,y=e.i(89089),w=e.i(43240),C=e.i(98321),F=e.i(35353),S=e.i(31171),k=e.i(58463);function E(e){return(0,w.is)((0,w.looseObject)({TelegramWebviewProxy:(0,w.looseObject)({postEvent:(0,w.function)()})}),e)}function x(){try{return window.self!==window.top}catch{return!0}}var A=function(e,t,r){if(r||2==arguments.length)for(var s,n=0,i=t.length;n<i;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function T(e){return e}function q(e,t,r,s,n,i,o,a,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return s(r(t(e.apply(this,arguments))))};case 5:return function(){return n(s(r(t(e.apply(this,arguments)))))};case 6:return function(){return i(n(s(r(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(n(s(r(t(e.apply(this,arguments)))))))};case 8:return function(){return a(o(i(n(s(r(t(e.apply(this,arguments))))))))};case 9:return function(){return u(a(o(i(n(s(r(t(e.apply(this,arguments)))))))))}}}function P(e,t,r,s,n,i,o,a,u){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return s(r(t(e)));case 5:return n(s(r(t(e))));case 6:return i(n(s(r(t(e)))));case 7:return o(i(n(s(r(t(e))))));case 8:return a(o(i(n(s(r(t(e)))))));case 9:return u(a(o(i(n(s(r(t(e))))))));default:for(var l=arguments[0],c=1;c<arguments.length;c++)l=arguments[c](l);return l}}var I=function(e,t){var r="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return r(arguments)?t.apply(this,e):function(r){return t.apply(void 0,A([r],e,!1))}}},B=function(e){return{_tag:"Left",left:e}},R=function(e){return{_tag:"Right",right:e}},M=I(2,function(e,t){return V(e)?e:t(e.right)}),V=function(e){return"Left"===e._tag},L=function(e,t){return function(r){return V(r)?e(r.left):t(r.right)}},j=function(e,t){try{return R(e())}catch(e){return B(t(e))}},O={_tag:"None"},$=function(e,t){return P(e,U(t))},U=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},D=function(e){return function(){return Promise.resolve(e)}},G=I(2,function(e,t){return function(){return Promise.resolve().then(e).then(function(e){return t(e)()})}}),W="Task",N={URI:W,map:$},H=D,K=q(B,H),z=q(R,H),J=function(e,t){return function(r){return N.map(r,L(e,t))}},Q=I(3,function(e,t,r){return N.map(e,function(e){return V(e)?B(t(e.left)):R(r(e.right))})}),Z=I(2,(l={URI:W,map:$,of:D,ap:function(e,t){var r;return P(e,(r=t,function(e){return function(){return Promise.all([Promise.resolve().then(e),Promise.resolve().then(r)]).then(function(e){return(0,e[0])(e[1])})}}))},chain:G},function(e,t){return l.chain(e,function(e){return V(e)?l.of(e):t(e.right)})}));class Y extends(0,k.errorClass)("MethodUnsupportedError",(e,t)=>[`Method "${e}" is unsupported in Mini Apps version ${t}`]){}class X extends(0,k.errorClass)("MethodParameterUnsupportedError",(e,t,r)=>[`Parameter "${t}" of "${e}" method is unsupported in Mini Apps version ${r}`]){}class ee extends(0,k.errorClassWithData)("LaunchParamsRetrieveError",e=>({errors:e}),e=>[["Unable to retrieve launch parameters from any known source. Perhaps, you have opened your app outside Telegram?","ðŸ“– Refer to docs for more information:","https://docs.telegram-mini-apps.com/packages/tma-js-bridge/environment","","Collected errors:",...e.map(({source:e,error:t})=>`Source: ${e} / ${t instanceof Error?t.message:String(t)}`)].join(`
`)]){}class et extends(0,k.errorClass)("InvalidLaunchParamsError",(e,t)=>[`Invalid value for launch params: ${e}`,{cause:t}]){}class er extends(0,k.errorClass)("UnknownEnvError"){}class es extends(0,k.errorClass)("InvokeCustomMethodError",e=>[`Server returned error: ${e}`]){}let en="launchParams";function ei(e){return e.replace(/^[^?#]*[?#]/,"").replace(/[?#]/g,"&")}let eo=q(ec,M(S.parseLaunchParamsQueryFp)),ea=(0,C.throwifyFpFn)(eo),eu=q(ec,(c=e=>{let t=new URLSearchParams(e).get("tgWebAppData");return t?{_tag:"Some",value:t}:O},function(e){return V(e)?e:R(c(e.right))})),el=q(eu,L(e=>{throw e},e=>e),(p=()=>{},h=e=>e,function(e){return"None"===e._tag?p():h(e.value)}));function ec(){let e=[];for(let[t,r]of[[()=>ei(window.location.href),"window.location.href"],[()=>{let e=performance.getEntriesByType("navigation")[0];return e&&ei(e.name)},"performance navigation entries"],[()=>(0,C.getStorageValue)(en),"local storage"]]){let s=t();if(!s){e.push({source:r,error:Error("Source is empty")});continue}let n=P((0,S.parseLaunchParamsQueryFp)(s),L(e=>e,()=>!0));if("boolean"!=typeof n){e.push({source:r,error:n});continue}return(0,C.setStorageValue)(en,s),R(s)}return B(new ee(e))}let ep=(0,C.throwifyFpFn)(ec);function eh(e,t){window.dispatchEvent(new MessageEvent("message",{data:JSON.stringify({eventType:e,eventData:t}),source:window.parent}))}function ed(e,t,r){let s=[r],n=e[t];"function"==typeof n&&s.push(n);let i=(...e)=>{s.forEach(t=>t(...e))},o=Object.assign((...e)=>{i(...e)},{unwrap(){let{length:r}=s;1===r?delete e[t]:2===r?em(e,t,s[1]):(s.unshift(1),em(e,t,i))}});e_(e,t,()=>o,e=>s.push(e))}function ef(e,t){let r=e[t];e_(e,t,()=>r,e=>{Object.entries(e).forEach(([e,t])=>{r[e]=t})})}function e_(e,t,r,s){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:r,set:s})}function em(e,t,r){Object.defineProperty(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r})}let eb={clipboard_text_received:(0,w.looseObject)({req_id:(0,w.string)(),data:(0,w.nullish)((0,w.string)())}),custom_method_invoked:(0,w.looseObject)({req_id:(0,w.string)(),result:(0,w.optional)((0,w.unknown)()),error:(0,w.optional)((0,w.string)())}),popup_closed:(0,w.nullish)((0,w.looseObject)({button_id:(0,w.nullish)((0,w.string)(),()=>{})}),{}),viewport_changed:(0,w.nullish)((0,w.looseObject)({height:(0,w.number)(),width:(0,w.nullish)((0,w.number)(),()=>window.innerWidth),is_state_stable:(0,w.boolean)(),is_expanded:(0,w.boolean)()}),()=>({height:window.innerHeight,is_state_stable:!0,is_expanded:!0})),theme_changed:(0,w.looseObject)({theme_params:(0,S.themeParams)()})};function eg(e){let t,r;if(e.source!==window.parent)return;try{t=(0,w.parse)((0,S.pipeJsonToSchema)((0,S.miniAppsMessage)()),e.data)}catch{return}let{eventType:s,eventData:n}=t,i=eb[s];try{r=i?(0,w.parse)(i,n):n}catch(e){return eP().forceError([`An error occurred processing the "${s}" event from the Telegram application.`,"Please, file an issue here:","https://github.com/Telegram-Mini-Apps/tma.js/issues/new/choose"].join(`
`),t,e)}ew(s,r)}let{on:ev,off:ey,emit:ew,clear:eC}=(d=()=>{let e=window;e.TelegramGameProxy||(e.TelegramGameProxy={}),ed(e.TelegramGameProxy,"receiveEvent",eh),ef(e,"TelegramGameProxy"),e.Telegram||(e.Telegram={}),e.Telegram.WebView||(e.Telegram.WebView={}),ed(e.Telegram.WebView,"receiveEvent",eh),ef(e.Telegram,"WebView"),ed(e,"TelegramGameProxy_receiveEvent",eh),window.addEventListener("message",eg)},f=()=>{[["TelegramGameProxy_receiveEvent"],["TelegramGameProxy","receiveEvent"],["Telegram","WebView","receiveEvent"]].forEach(e=>{let t=window,r=[void 0,t];for(let t of e)if(!(r=[r[1],r[1][t]])[1])return;let[s,n]=r;"unwrap"in n&&(n.unwrap(),s&&s!==t&&!Object.keys(s).length&&delete t[e[0]])}),window.removeEventListener("message",eg)},t=new Map,r={all:_=_||new Map,on:function(e,t){var r=_.get(e);r?r.push(t):_.set(e,[t])},off:function(e,t){var r=_.get(e);r&&(t?r.splice(r.indexOf(t)>>>0,1):_.set(e,[]))},emit:function(e,t){var r=_.get(e);r&&r.slice().map(function(e){e(t)}),(r=_.get("*"))&&r.slice().map(function(r){r(e,t)})}},{on(e,n,i){t.size||d();let o=()=>{s(e,n,i)},a=(...t)=>{i&&o(),"*"===e?n({name:t[0],payload:t[1]}):n(...t)};r.on(e,a);let u=t.get(e)||new Map;t.set(e,u);let l=u.get(n)||[];return u.set(n,l),l.push([a,i||!1]),o},off:s=(e,s,n=!1)=>{let i=t.get(e)||new Map;t.set(e,i);let o=i.get(s)||[];i.set(s,o);let a=o.findIndex(e=>e[1]===n);if(a>=0&&(r.off(e,o[a][0]),o.splice(a,1),!o.length&&(i.delete(s),!i.size))){let r=t.size;t.delete(e),r&&!t.size&&f()}},emit:r.emit,clear(){let e=t.size;r.all.clear(),t.clear(),e&&f()}}),eF=(0,y.signal)(!1),eS=(0,y.signal)("https://web.telegram.org"),ek=e=>{eP().log("Event received:",e)},eE=(0,y.computed)(eF);function ex(e){e!==eF()&&(eF.set(e),(e?ev:ey)("*",ek))}let eA=(0,y.computed)(eS);function eT(e){eS.set(e),eP().log("New target origin set",e)}let eq=(0,y.signal)((...e)=>{window.parent.postMessage(...e)}),eP=(0,y.signal)((0,C.createLogger)("Bridge",{bgColor:"#9147ff",textColor:"white",shouldLog:eE}));function eI(e,t){eP().log("Posting event:",t?{eventType:e,eventData:t}:{eventType:e});let r=window,s=JSON.stringify({eventType:e,eventData:t});return x()?(((...e)=>eq()(...e))(s,eA()),R(void 0)):E(r)?(r.TelegramWebviewProxy.postEvent(e,JSON.stringify(t)),R(void 0)):(0,w.is)((0,w.looseObject)({external:(0,w.looseObject)({notify:(0,w.function)()})}),r)?(r.external.notify(s),R(void 0)):B(new er)}function eB(e,t,r={}){let{capture:s=()=>!0,postEvent:n=eI}=r,i=(0,y.signal)(),[o,a]=(0,C.createCbCollector)();(Array.isArray(t)?t:[t]).forEach(e=>{o(ev(e,r=>{(Array.isArray(t)?s({event:e,payload:r}):s(r))&&i.set([r])}))});let u=e=>(a(),e);return P(async()=>n(e,r.params),Z(()=>(0,C.BetterTaskEither)((e,t,r)=>{let s=i();if(s)return e(s[0]);let n=t=>{t&&e(t[0])};i.sub(n),r.on("finalized",()=>{i.unsub(n)})},r)),Q(u,u))}function eR(e,t){let r=eM(e,t);return"function"==typeof r?F.BetterPromise.fn(()=>(0,C.throwifyAnyEither)(r)):r}function eM(e,t){let r=E(window);if(!e)return r||P(ec(),L(()=>!1,()=>!0));if(r)return z(!0);let{timeout:s=100}=t||{};return P(eB("web_app_request_theme","theme_changed",{...t,timeout:s}),J(e=>F.TimeoutError.is(e)||er.is(e)?R(!1):B(e),()=>R(!0)))}function eV({launchParams:e,onEvent:t,resetPostMessage:r}={}){if(e){let t="string"==typeof e||e instanceof URLSearchParams?e.toString():(0,S.serializeLaunchParamsQuery)({...e,tgWebAppData:void 0})+(e.tgWebAppData?`&tgWebAppData=${encodeURIComponent(e.tgWebAppData.toString())}`:"");try{(0,S.parseLaunchParamsQuery)(t)}catch(e){throw new et(t,e)}(0,C.setStorageValue)("launchParams",t)}if(x()){if(!t)return;r&&eq.reset();let e=eq();eq.set((...r)=>{let[s]=r,n=()=>{e(...r)};try{let e=(0,w.parse)((0,S.pipeJsonToSchema)((0,S.miniAppsMessage)()),s);t({name:e.eventType,params:e.eventData},n)}catch{n()}});return}let s=window.TelegramWebviewProxy||{},n=s.postEvent||(()=>{});window.TelegramWebviewProxy={...s,postEvent(e,r){let s=()=>{n(e,r)};t?t({name:e,params:r?JSON.parse(r):void 0},s):s()}},eP().log("Environment was mocked by the mockTelegramEnv function")}function eL(e){return({req_id:t})=>t===e}function ej(e){return e.split(".").map(Number)}let eO={"6.0":["iframe_ready","iframe_will_reload","web_app_close","web_app_data_send","web_app_expand","web_app_open_link","web_app_ready","web_app_request_theme","web_app_request_viewport","web_app_setup_main_button","web_app_setup_closing_behavior"],6.1:["web_app_open_tg_link","web_app_open_invoice","web_app_setup_back_button","web_app_set_background_color","web_app_set_header_color","web_app_trigger_haptic_feedback"],6.2:["web_app_open_popup"],6.4:["web_app_close_scan_qr_popup","web_app_open_scan_qr_popup","web_app_read_text_from_clipboard",{method:"web_app_open_link",param:"try_instant_view"}],6.7:["web_app_switch_inline_query"],6.9:["web_app_invoke_custom_method","web_app_request_write_access","web_app_request_phone",{method:"web_app_set_header_color",param:"color"}],"6.10":["web_app_setup_settings_button"],7.2:["web_app_biometry_get_info","web_app_biometry_open_settings","web_app_biometry_request_access","web_app_biometry_request_auth","web_app_biometry_update_token"],7.6:[{method:"web_app_open_link",param:"try_browser"},{method:"web_app_close",param:"return_back"}],7.7:["web_app_setup_swipe_behavior"],7.8:["web_app_share_to_story"],"7.10":["web_app_setup_secondary_button","web_app_set_bottom_bar_color",{method:"web_app_setup_main_button",param:"has_shine_effect"}],"8.0":["web_app_request_safe_area","web_app_request_content_safe_area","web_app_request_fullscreen","web_app_exit_fullscreen","web_app_set_emoji_status","web_app_add_to_home_screen","web_app_check_home_screen","web_app_request_emoji_status_access","web_app_check_location","web_app_open_location_settings","web_app_request_file_download","web_app_request_location","web_app_send_prepared_message","web_app_start_accelerometer","web_app_start_device_orientation","web_app_start_gyroscope","web_app_stop_accelerometer","web_app_stop_device_orientation","web_app_stop_gyroscope","web_app_toggle_orientation_lock"],"9.0":["web_app_device_storage_clear","web_app_device_storage_get_key","web_app_device_storage_save_key","web_app_secure_storage_clear","web_app_secure_storage_get_key","web_app_secure_storage_restore_key","web_app_secure_storage_save_key"],9.1:["web_app_hide_keyboard"]};function e$(e,t){return Object.keys(eO).find(r=>eO[r].some(r=>t?"object"==typeof r&&r.method===e&&r.param===t:r===e))||null}function eU(e,t,r){let s=r?e$(e,t):e$(e);return!!s&&0>=function(e,t){let r=ej(e),s=ej(t),n=Math.max(r.length,s.length);for(let e=0;e<n;e+=1){let t=r[e]||0,n=s[e]||0;if(t!==n)return t>n?1:-1}return 0}(s,r||t)}function eD(e,t="strict"){let r="function"==typeof t?t:e=>{let{method:r,version:s}=e,n="param"in e?new X(r,e.param,s):new Y(r,s);if("strict"===t)throw n;return eP().forceWarn(n.message)};return(t,s)=>{var n;return eU(t,e)?"web_app_set_header_color"===t&&(0,w.is)((0,w.looseObject)({color:(0,w.any)()}),s)&&!eU(t,"color",e)?r({version:e,method:t,param:"color"}):void P(eI(t,s),(n=e=>{throw e},function(e){return V(e)?B(n(e.left)):e})):r({version:e,method:t})}}function eG(e,t,r,s){return P(eB("web_app_invoke_custom_method","custom_method_invoked",{...s||{},params:{method:e,params:t,req_id:r},capture:eL(r)}),Z(({result:e,error:t})=>t?K(new es(t)):z(e)))}function eW(){Object.hasOwn||(Object.hasOwn=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)})}function eN(e){return j(()=>decodeURIComponent(atob(e).replace(/-/g,"+").replace(/_/g,"/").split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")),e=>e)}let eH=(0,C.throwifyFpFn)(eN);function eK(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(parseInt(`0x${t}`)))).replace(/\+/g,"-").replace(/\//g,"_")}function ez(e){let t=eK("string"==typeof e?e:JSON.stringify(e));return t.length>512?B(Error("Value is too long for start parameter")):R(t)}let eJ=(0,C.throwifyFpFn)(ez);function eQ(e,t){return(0,C.throwifyAnyEither)(eZ(e,"function"==typeof t?e=>j(()=>t(e),e=>e):t))}function eZ(e,t){return P(eN(e),M(e=>t?"function"==typeof t?t(e):j(function(){return JSON.parse(e)},T):R(e)))}function eY(e){return eK(e).length<=512}e.s(["InvalidLaunchParamsError",()=>et,"InvokeCustomMethodFailedError",()=>es,"LaunchParamsRetrieveError",()=>ee,"MethodParameterUnsupportedError",()=>X,"MethodUnsupportedError",()=>Y,"UnknownEnvError",()=>er,"applyPolyfills",()=>eW,"captureSameReq",()=>eL,"createPostEvent",()=>eD,"createStartParam",()=>eJ,"createStartParamFp",()=>ez,"debug",()=>eE,"decodeBase64Url",()=>eH,"decodeBase64UrlFp",()=>eN,"decodeStartParam",()=>eQ,"decodeStartParamFp",()=>eZ,"emitEvent",()=>eh,"encodeBase64Url",()=>eK,"getReleaseVersion",()=>e$,"invokeCustomMethodFp",()=>eG,"isSafeToCreateStartParam",()=>eY,"isTMA",()=>eR,"isTMAFp",()=>eM,"logger",()=>eP,"mockTelegramEnv",()=>eV,"off",()=>ey,"offAll",()=>eC,"on",()=>ev,"postEventFp",()=>eI,"requestFp",()=>eB,"retrieveLaunchParams",()=>ea,"retrieveLaunchParamsFp",()=>eo,"retrieveRawInitData",()=>el,"retrieveRawInitDataFp",()=>eu,"retrieveRawLaunchParams",()=>ep,"retrieveRawLaunchParamsFp",()=>ec,"setDebug",()=>ex,"setTargetOrigin",()=>eT,"supports",()=>eU,"targetOrigin",()=>eA],34723);var eX=k,e0=Object.defineProperty,e1=(e,t,r)=>{let s;return(s="symbol"!=typeof t?t+"":t)in e?e0(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r},e2=function(e,t,r){if(r||2==arguments.length)for(var s,n=0,i=t.length;n<i;n++)!s&&n in t||(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))};function e3(e,t,r,s,n,i,o,a,u){switch(arguments.length){case 1:return e;case 2:return function(){return t(e.apply(this,arguments))};case 3:return function(){return r(t(e.apply(this,arguments)))};case 4:return function(){return s(r(t(e.apply(this,arguments))))};case 5:return function(){return n(s(r(t(e.apply(this,arguments)))))};case 6:return function(){return i(n(s(r(t(e.apply(this,arguments))))))};case 7:return function(){return o(i(n(s(r(t(e.apply(this,arguments)))))))};case 8:return function(){return a(o(i(n(s(r(t(e.apply(this,arguments))))))))};case 9:return function(){return u(a(o(i(n(s(r(t(e.apply(this,arguments)))))))))}}}function e6(e,t,r,s,n,i,o,a,u){switch(arguments.length){case 1:return e;case 2:return t(e);case 3:return r(t(e));case 4:return s(r(t(e)));case 5:return n(s(r(t(e))));case 6:return i(n(s(r(t(e)))));case 7:return o(i(n(s(r(t(e))))));case 8:return a(o(i(n(s(r(t(e)))))));case 9:return u(a(o(i(n(s(r(t(e))))))));default:for(var l=arguments[0],c=1;c<arguments.length;c++)l=arguments[c](l);return l}}var e4=function(e,t){var r="number"==typeof e?function(t){return t.length>=e}:e;return function(){var e=Array.from(arguments);return r(arguments)?t.apply(this,e):function(r){return t.apply(void 0,e2([r],e,!1))}}},e9=function(e){return{_tag:"Left",left:e}},e5=function(e){return{_tag:"Right",right:e}},e8={};function e7(e){return function(t,r){return function(s){return e.chain(s,function(s){return e.map(r(s),function(e){var r;return Object.assign({},s,((r={})[t]=e,r))})})}}}var te=e4(2,function(e,t){return to(e)?e:t(e.right)}),tt=function(e,t){return e6(e,tn(t))},tr=function(e,t){return e6(e,ti(t))},ts="Either",tn=function(e){return function(t){return to(t)?t:e5(e(t.right))}},ti=function(e){return function(t){return to(t)?t:to(e)?e:e5(t.right(e.right))}},to=function(e){return"Left"===e._tag},ta=function(e,t){return function(r){return to(r)?e(r.left):t(r.right)}},tu=function(e,t){try{return e5(e())}catch(e){return e9(t(e))}},tl=e5(e8),tc=e7({URI:ts,map:tt,ap:tr,chain:te});function tp(e){return"function"==typeof e?e():e}function th(e,t){return(0,y.computed)(()=>eU(e,tp(t)))}var td={_tag:"None"},tf=function(e){return{_tag:"Some",value:e}},t_=e4(2,function(e,t){return tm(e)?td:t(e.value)}),tm=function(e){return"None"===e._tag},tb=function(e,t){return function(r){return tm(r)?e():t(r.value)}},tg=tf(e8),tv=e7({URI:"Option",map:function(e,t){var r;return e6(e,(r=t,function(e){return tm(e)?td:tf(r(e.value))}))},ap:function(e,t){var r;return e6(e,(r=t,function(e){return tm(e)||tm(r)?td:tf(e.value(r.value))}))},chain:t_}),ty=function(e,t){return e6(e,tC(t))},tw=function(e,t){return e6(e,tF(t))},tC=function(e){return function(t){return function(){return Promise.resolve().then(t).then(e)}}},tF=function(e){return function(t){return function(){return Promise.all([Promise.resolve().then(t),Promise.resolve().then(e)]).then(function(e){return(0,e[0])(e[1])})}}},tS=function(e){return function(){return Promise.resolve(e)}},tk=e4(2,function(e,t){return function(){return Promise.resolve().then(e).then(function(e){return t(e)()})}}),tE="Task",tx={URI:tE,map:ty},tA=tS,tT=function(e,t){var r,s,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(u){var l=[a,u];if(r)throw TypeError("Generator is already executing.");for(;i&&(i=0,l[0]&&(o=0)),o;)try{if(r=1,s&&(n=2&l[0]?s.return:l[0]?s.throw||((n=s.return)&&n.call(s),0):s.next)&&!(n=n.call(s,l[1])).done)return n;switch(s=0,n&&(l=[2&l[0],n.value]),l[0]){case 0:case 1:n=l;break;case 4:return o.label++,{value:l[1],done:!1};case 5:o.label++,s=l[1],l=[0];continue;case 7:l=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===l[0]||2===l[0])){o=0;continue}if(3===l[0]&&(!n||l[1]>n[0]&&l[1]<n[3])){o.label=l[1];break}if(6===l[0]&&o.label<n[1]){o.label=n[1],n=l;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(l);break}n[2]&&o.ops.pop(),o.trys.pop();continue}l=t.call(e,o)}catch(e){l=[6,e],s=0}finally{r=n=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}},tq=e3(e9,tA),tP=e3(e5,tA),tI=function(e,t){return function(r){return tx.map(r,ta(e,t))}},tB=(m={URI:ts,map:tt},function(e){return function(t){return tx.map(t,function(t){return m.map(t,e)})}}),tR=e4(3,function(e,t,r){return tx.map(e,function(e){return to(e)?e9(t(e.left)):e5(r(e.right))})}),tM=(b={URI:tE,map:ty,ap:tw},g={URI:ts,map:tt,ap:tr},function(e){return function(t){return b.ap(b.map(t,function(e){return function(t){return g.ap(e,t)}}),e)}}),tV=e4(2,(v={URI:tE,map:ty,of:tS,ap:tw,chain:tk},function(e,t){return v.chain(e,function(e){return to(e)?v.of(e):t(e.right)})})),tL=tP(e8),tj=e7({URI:"TaskEither",map:function(e,t){return e6(e,tB(t))},ap:function(e,t){return e6(e,tM(t))},chain:tV});function tO(e){return[e]}class t$ extends(0,eX.errorClassWithData)("ValidationError",(e,t)=>({input:e,issues:t}),"Validation error"){}class tU extends(0,eX.errorClass)("CSSVarsBoundError","CSS variables are already bound"){}class tD extends(0,eX.errorClass)("NotAvailableError",tO){}class tG extends(0,eX.errorClass)("InvalidEnvError",tO){}class tW extends(0,eX.errorClass)("FunctionNotAvailableError",tO){}class tN extends(0,eX.errorClass)("InvalidArgumentsError",(e,t)=>[e,{cause:t}]){}class tH extends(0,eX.errorClass)("ConcurrentCallError",tO){}class tK extends(0,eX.errorClass)("SetEmojiStatusError",e=>[`Failed to set emoji status: ${e}`]){}class tz extends(0,eX.errorClass)("AccessDeniedError",tO){}class tJ extends(0,eX.errorClass)("FullscreenFailedError",tO){}class tQ extends(0,eX.errorClass)("ShareMessageError",tO){}class tZ extends(0,eX.errorClass)("UnknownThemeParamsKeyError",e=>[`Unknown theme params key passed: ${e}`]){}function tY(e,t){let r=(0,y.computed)(()=>tp(t.version)||"100"),s=(0,y.computed)(()=>tp(t.isTma)),{requires:n,returns:i}=t,o=n?"object"==typeof n?n:{every:[n]}:void 0,a=e=>{if(!t.supports)return!0;let s=t.supports[e];return eU(s.method,s.param,r())},u=()=>{if(!o)return;let[e,t]="every"in o?["every",o.every]:["some",o.some];for(let s=0;s<t.length;s++){let n=t[s],i="function"==typeof n?n():eU(n,r())?void 0:`it is unsupported in Mini Apps version ${r()}`;if(i&&("every"===e||s===t.length-1))return i}},l=(0,y.computed)(()=>!u()),c=(0,y.computed)(()=>"0.0"!==r()),p=(0,y.computed)(()=>!t.isMounted||t.isMounted()),h=(0,y.computed)(()=>s()&&c()&&l()&&p()),d=e=>{let r=new tW(e);return["task","promise"].includes(t.returns)?tq(r):e9(r)},f=(...t)=>{var r,s;return"plain"===i?tu(()=>e(...t),e=>e):"promise"===i?(r=()=>e(...t),s=e=>e,function(){var e,t,n,i;return e=void 0,t=void 0,n=void 0,i=function(){return tT(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,r().then(e5)];case 1:return[2,e.sent()];case 2:return[2,e9(s(e.sent()))];case 3:return[2]}})},new(n||(n=Promise))(function(r,s){function o(e){try{u(i.next(e))}catch(e){s(e)}}function a(e){try{u(i.throw(e))}catch(e){s(e)}}function u(e){var t;e.done?r(e.value):((t=e.value)instanceof n?t:new n(function(e){e(t)})).then(o,a)}u((i=i.apply(e,t||[])).next())})}):e(...t)};return Object.assign((...e)=>{var n;let i="Unable to call function:";if(!s())return d(`${i} it can't be called outside Mini Apps`);if(!c())return d(`${i} the SDK was not initialized. Use the SDK init() function`);let o=u();if(o)return d(`${i} ${o}`);let l=((...e)=>{for(let s in t.supports)if(t.supports[s].shouldCheck(...e)&&!a(s))return`option ${s} is not supported in Mini Apps version ${r()}`})(...e);if(l)return d(`${i} ${l}`);if(!p()){let e=null!=(n=t.isMounting)&&n.call(t)?"mounting. Wait for the mount completion":"unmounted. Use the mount() method";return d(`${i} the component is ${e}`)}return f(...e)},e,{isAvailable:h,ifAvailable:(...e)=>h()?tf(f(...e)):td},o?{isSupported:l}:{},t.supports?{supports:a}:{})}function tX(e){return t=>tY(t,e)}function t0(e){return Object.assign((0,C.throwifyFpFn)(e),{ifAvailable:(...t)=>e6(e.ifAvailable(...t),tb(()=>({ok:!1}),e=>({ok:!0,data:(0,C.throwifyAnyEither)(e)})))})}function t1(e){let t={};for(let r in e){let s=e[r];void 0!==s&&(t[r]=s)}return t}function t2(e,t){let r=Object.keys(e),s=Object.keys(t);return r.length===s.length&&r.every(r=>Object.prototype.hasOwnProperty.call(t,r)&&e[r]===t[r])}class t3{constructor({initialState:e,onChange:t}){e1(this,"_state"),e1(this,"state"),e1(this,"setState",e=>{let t={...this.state(),...t1(e)};t2(t,this.state())||this._state.set(t)}),this._state=(0,y.signal)(e,{equals:t2}),this.state=(0,y.computed)(this._state),this.state.sub(t)}getter(e){return(0,y.computed)(()=>this._state()[e])}hasDiff(e){return!t2({...this.state(),...t1(e)},this.state())}}class t6{constructor({onMounted:e,restoreState:t,initialState:r,onUnmounted:s,isPageReload:n}){e1(this,"_isMounted",(0,y.signal)(!1)),e1(this,"isMounted",(0,y.computed)(this._isMounted)),e1(this,"mount"),e1(this,"unmount"),this.mount=()=>{if(this.isMounted())return e5(void 0);let s=tp(n)?t():void 0;return e6(s?e5(s):"function"==typeof r?r():e5(r),tn(t=>{(0,y.batch)(()=>{this._isMounted.set(!0),null==e||e(t)})}))},this.unmount=()=>{this._isMounted()&&(0,y.batch)(()=>{this._isMounted.set(!1),null==s||s()})}}}class t4{constructor({isTma:e,storage:t,onClick:r,offClick:s,initialState:n,isPageReload:i,postEvent:o,payload:a,method:u,version:l}){e1(this,"isMounted"),e1(this,"isSupported"),e1(this,"state"),e1(this,"stateSetters"),e1(this,"stateBoolSetters"),e1(this,"setStateFp"),e1(this,"setState"),e1(this,"onClickFp"),e1(this,"onClick"),e1(this,"offClickFp"),e1(this,"offClick"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount");const c=new t3({initialState:n,onChange(e){t.set(e)}}),p=new t6({initialState:n,isPageReload:i,onMounted:c.setState,restoreState:t.get}),h={version:l,requires:u,isTma:e},d=tX({...h,returns:"plain"}),f=tX({...h,returns:"either",isMounted:p.isMounted});this.isMounted=p.isMounted,this.isSupported=th(u,l),this.state=c.state,this.setStateFp=f(e=>{let t={...this.state(),...t1(e)};return c.hasDiff(t)?e6(o(u,a(t)),tn(()=>{c.setState(t)})):e5(void 0)}),this.setState=t0(this.setStateFp),this.onClickFp=d(r),this.onClick=t0(this.onClickFp),this.offClickFp=d(s),this.offClick=t0(this.offClickFp),this.mountFp=d(()=>{let e=()=>{};return e6(p.mount(),ta(e,e))}),this.mount=t0(this.mountFp),this.unmount=p.unmount,this.stateSetters=e=>{let t=f(t=>this.setStateFp({[e]:t}));return[t0(t),t]},this.stateBoolSetters=e=>{let[,t]=this.stateSetters(e),r=f(()=>t(!1)),s=f(()=>t(!0));return[[t0(r),r],[t0(s),s]]}}stateGetter(e){return(0,y.computed)(()=>this.state()[e])}}class t9{constructor(e){e1(this,"isVisible"),e1(this,"isMounted"),e1(this,"isSupported"),e1(this,"hideFp"),e1(this,"hide"),e1(this,"showFp"),e1(this,"show"),e1(this,"onClickFp"),e1(this,"onClick"),e1(this,"offClickFp"),e1(this,"offClick"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount");const t=new t4({...e,method:"web_app_setup_back_button",payload:e=>({is_visible:e.isVisible}),initialState:{isVisible:!1}});this.isVisible=t.stateGetter("isVisible"),this.isMounted=t.isMounted,this.isSupported=t.isSupported,[[this.hide,this.hideFp],[this.show,this.showFp]]=t.stateBoolSetters("isVisible"),this.onClick=t.onClick,this.onClickFp=t.onClickFp,this.offClick=t.offClick,this.offClickFp=t.offClickFp,this.mount=t.mount,this.mountFp=t.mountFp,this.unmount=t.unmount}}function t5(){return{isTma:(0,y.computed)(()=>eM())}}function t8(){let e=performance.getEntriesByType("navigation")[0];return!!e&&"reload"===e.type}function t7(e){return t=>({...t,...tp(e)})}function re(e){return t7({storage:{get:()=>(0,C.getStorageValue)(e),set(t){(0,C.setStorageValue)(e,t)}},isPageReload:t8})}function rt(e,t){return(0,y.signal)(e,t)}let rr=rt(eI),rs=(...e)=>rr()(...e),rn=(...e)=>(0,C.throwifyAnyEither)(rs(...e)),ri=t7({postEvent:rs}),ro=rt("0.0"),ra=t7({version:ro});function ru(e,t){return{...e6(t5(),ri,ra,re(e)),onClick:(e,r)=>ev(t,e,r),offClick(e,r){ey(t,e,r)}}}let rl=new t9(ru("backButton","back_button_pressed"));class rc{constructor({initialState:e,onMounted:t,restoreState:r,onUnmounted:s,isPageReload:n}){e1(this,"_isMounted",(0,y.signal)(!1)),e1(this,"isMounted",(0,y.computed)(this._isMounted)),e1(this,"mount"),e1(this,"unmount"),this.mount=s=>{if(this._isMounted())return tP(void 0);let i=tp(n)?r():void 0;return e6(i?tP(i):e(s),tB(e=>{this._isMounted()||(0,y.batch)(()=>{this._isMounted.set(!0),null==t||t(e)})}))},this.unmount=()=>{this._isMounted()&&(0,y.batch)(()=>{this._isMounted.set(!1),null==s||s()})}}}let rp=new tD("Biometry is not available");function rh(e){let t=!1,r=!1,s="",n=!1,i="",o=!1;return e.available&&(t=!0,r=e.token_saved,s=e.device_id,n=e.access_requested,i=e.type,o=e.access_granted),{available:t,tokenSaved:r,deviceId:s,type:i,accessGranted:o,accessRequested:n}}class rd{constructor({version:e,request:t,postEvent:r,storage:s,onInfoReceived:n,offInfoReceived:i,isTma:o,isPageReload:a}){e1(this,"isAvailable"),e1(this,"isSupported"),e1(this,"isMounted"),e1(this,"state"),e1(this,"authenticateFp"),e1(this,"authenticate"),e1(this,"openSettingsFp"),e1(this,"openSettings"),e1(this,"requestAccessFp"),e1(this,"requestAccess"),e1(this,"updateTokenFp"),e1(this,"updateToken"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount");const u=e=>{l.setState(rh(e))},l=new t3({initialState:{available:!1,type:"unknown",accessGranted:!1,accessRequested:!1,deviceId:"",tokenSaved:!1},onChange:s.set}),c=new rc({initialState:e=>e6(t("web_app_biometry_get_info","biometry_info_received",e),tB(rh)),isPageReload:a,onMounted(e){l.setState(e),n(u)},onUnmounted(){i(u)},restoreState:s.get}),p={version:e,requires:"web_app_biometry_request_auth",isTma:o},h=tX({...p,returns:"either"}),d=tX({...p,returns:"task"}),f=tX({...p,isMounted:c.isMounted,returns:"task"});this.isAvailable=l.getter("available"),this.isMounted=c.isMounted,this.isSupported=th("web_app_biometry_request_auth",e),this.state=l.state,this.unmount=c.unmount,this.mountFp=d(c.mount),this.authenticateFp=f(e=>this.isAvailable()?e6(t("web_app_biometry_request_auth","biometry_auth_requested",{...e,params:{reason:((e||{}).reason||"").trim()}}),tB(e=>(l.setState({token:e.token}),e))):tq(rp)),this.openSettingsFp=h(()=>r("web_app_biometry_open_settings")),this.requestAccessFp=f(e=>e6(t("web_app_biometry_request_access","biometry_info_received",{...e,params:{reason:((e||{}).reason||"").trim()}}),tV(e=>{let t=rh(e);return t.available?(l.setState(t),tP(t.accessRequested)):tq(rp)}))),this.updateTokenFp=f((e={})=>{var r;return e6(t("web_app_biometry_update_token","biometry_token_updated",{...e,params:{token:e.token||"",reason:null==(r=e.reason)?void 0:r.trim()}}),tB(e=>e.status))}),this.authenticate=t0(this.authenticateFp),this.openSettings=t0(this.openSettingsFp),this.requestAccess=t0(this.requestAccessFp),this.updateToken=t0(this.updateTokenFp),this.mount=t0(this.mountFp)}}let rf=(e,t,r)=>eB(e,t,{postEvent:rs,...r}),r_=(...e)=>F.BetterPromise.fn(()=>rf(...e)()),rm=t7({request:rf}),rb=new rd({...e6(t5(),ri,ra,rm,re("biometry")),offInfoReceived(e){ey("biometry_info_received",e)},onInfoReceived:e=>ev("biometry_info_received",e)});class rg{constructor({postEvent:e,storage:t,isTma:r,isPageReload:s}){e1(this,"isConfirmationEnabled"),e1(this,"isMounted"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount"),e1(this,"disableConfirmationFp"),e1(this,"disableConfirmation"),e1(this,"enableConfirmationFp"),e1(this,"enableConfirmation");const n=new t3({initialState:{isConfirmationEnabled:!1},onChange(e){t.set(e)}}),i=new t6({onMounted:n.setState,restoreState:t.get,initialState:{isConfirmationEnabled:!1},isPageReload:s}),o={requires:"web_app_setup_closing_behavior",isTma:r},a=tX({...o,returns:"plain"}),u=tX({...o,returns:"either",isMounted:i.isMounted}),l=t=>t===this.isConfirmationEnabled()?e5(void 0):(n.setState({isConfirmationEnabled:t}),e("web_app_setup_closing_behavior",{need_confirmation:t}));this.isConfirmationEnabled=n.getter("isConfirmationEnabled"),this.isMounted=i.isMounted,this.disableConfirmationFp=u(()=>l(!1)),this.enableConfirmationFp=u(()=>l(!0)),this.mountFp=a(()=>{let e=()=>{};return e6(i.mount(),ta(e,e))}),this.unmount=i.unmount,this.disableConfirmation=t0(this.disableConfirmationFp),this.enableConfirmation=t0(this.enableConfirmationFp),this.mount=t0(this.mountFp)}}let rv=new rg(e6(t5(),re("closingBehavior"),ri));class ry{constructor({version:e,isTma:t,invokeCustomMethod:r}){e1(this,"isSupported"),e1(this,"deleteItemFp"),e1(this,"deleteItem"),e1(this,"getItemFp"),e1(this,"getItem"),e1(this,"getItemsFp"),e1(this,"getItems"),e1(this,"getKeysFp"),e1(this,"getKeys"),e1(this,"setItemFp"),e1(this,"setItem"),e1(this,"clearFp"),e1(this,"clear");const s=tX({version:e,requires:"web_app_invoke_custom_method",isTma:t,returns:"task"});this.isSupported=th("web_app_invoke_custom_method",e),this.deleteItemFp=s((e,t)=>{let s=Array.isArray(e)?e:[e];return e6(s.length?r("deleteStorageValues",{keys:s},t):tP(void 0),tB(()=>{}))}),this.getItemFp=s((e,t)=>e6(this.getItemsFp([e],t),tB(t=>t[e]||""))),this.getItemsFp=s((e,t)=>e6(e.length?r("getStorageValues",{keys:e},t):tP({}),tB(t=>({...e.reduce((e,t)=>(e[t]="",e),{}),...(0,w.parse)((0,w.record)((0,w.string)(),(0,w.string)()),t)})))),this.getKeysFp=s(e=>e6(r("getStorageKeys",{},e),tB(e=>(0,w.parse)((0,w.array)((0,w.string)()),e)))),this.setItemFp=s((e,t,s)=>e6(r("saveStorageValue",{key:e,value:t},s),tB(()=>{}))),this.clearFp=s(e=>e6(this.getKeysFp(e),tV(this.deleteItemFp))),this.deleteItem=t0(this.deleteItemFp),this.getItem=t0(this.getItemFp),this.getItems=t0(this.getItemsFp),this.getKeys=t0(this.getKeysFp),this.setItem=t0(this.setItemFp),this.clear=t0(this.clearFp)}}let rw=rt(0);function rC(){return rw.set(rw()+1),rw().toString()}function rF(e,t,r){return eG(e,t,rC(),{...r||{},postEvent:rs})}let rS=t7({invokeCustomMethod:rF}),rk=new ry(e6(t5(),ra,rS)),rE=function({request:e,...t}){return tY(t=>e6(e("web_app_request_emoji_status_access","emoji_status_access_requested",t),tB(e=>e.status)),{...t,requires:"web_app_request_emoji_status_access",returns:"task"})}(e6(t5(),ra,rm)),rx=t0(rE),rA=function({request:e,...t}){return tY((t,r)=>e6(e("web_app_set_emoji_status",["emoji_status_set","emoji_status_failed"],{params:{custom_emoji_id:t,duration:(r||{}).duration},...r}),tV(e=>e&&"error"in e?tq(new tK(e.error)):tP(void 0))),{...t,requires:"web_app_set_emoji_status",returns:"task"})}(e6(t5(),rm,ra)),rT=t0(rA);class rq{constructor({postEvent:e,isTma:t,version:r}){e1(this,"isSupported"),e1(this,"impactOccurredFp"),e1(this,"impactOccurred"),e1(this,"notificationOccurredFp"),e1(this,"notificationOccurred"),e1(this,"selectionChangedFp"),e1(this,"selectionChanged");const s="web_app_trigger_haptic_feedback",n=tX({requires:s,isTma:t,version:r,returns:"plain"});this.isSupported=th(s,r),this.impactOccurredFp=n(t=>e(s,{type:"impact",impact_style:t})),this.notificationOccurredFp=n(t=>e(s,{type:"notification",notification_type:t})),this.selectionChangedFp=n(()=>e(s,{type:"selection_change"})),this.impactOccurred=t0(this.impactOccurredFp),this.notificationOccurred=t0(this.notificationOccurredFp),this.selectionChanged=t0(this.selectionChangedFp)}}let rP=new rq(e6(t5(),ri,ra)),rI=function({postEvent:e,...t}){return tY(()=>e("web_app_add_to_home_screen"),{...t,requires:"web_app_add_to_home_screen",returns:"either"})}(e6(t5(),ra,ri)),rB=t0(rI),rR=function({request:e,...t}){return tY(t=>e6(e("web_app_check_home_screen","home_screen_checked",t),tB(e=>e.status||"unknown")),{...t,requires:"web_app_check_home_screen",returns:"task"})}(e6(t5(),ra,rm)),rM=t0(rR);class rV{constructor({retrieveInitData:e}){e1(this,"_state",(0,y.signal)()),e1(this,"_raw",(0,y.signal)()),e1(this,"state",(0,y.computed)(this._state)),e1(this,"authDate",this.fromState("auth_date")),e1(this,"canSendAfter",this.fromState("can_send_after")),e1(this,"canSendAfterDate",(0,y.computed)(()=>{let e=this.authDate(),t=this.canSendAfter();return t&&e?new Date(e.getTime()+1e3*t):void 0})),e1(this,"chat",this.fromState("chat")),e1(this,"chatType",this.fromState("chat_type")),e1(this,"chatInstance",this.fromState("chat_instance")),e1(this,"hash",this.fromState("hash")),e1(this,"queryId",this.fromState("query_id")),e1(this,"raw",(0,y.computed)(this._raw)),e1(this,"receiver",this.fromState("receiver")),e1(this,"signature",this.fromState("signature")),e1(this,"startParam",this.fromState("start_param")),e1(this,"user",this.fromState("user")),e1(this,"restoreFp"),e1(this,"restore"),this.restoreFp=()=>e6(e(),tn(tb(()=>{},({raw:e,obj:t})=>{this._state.set(t),this._raw.set(e)}))),this.restore=(0,C.throwifyFpFn)(this.restoreFp)}fromState(e){return(0,y.computed)(()=>{let t=this._state();return t?t[e]:void 0})}}let rL=new rV({retrieveInitData:()=>e6(tl,tc("obj",()=>e6(eo(),tn(({tgWebAppData:e})=>e?tf(e):td))),tc("raw",eu),tn(({obj:e,raw:t})=>e6(tg,tv("obj",()=>e),tv("raw",()=>t))))});class rj{constructor({version:e,request:t,isTma:r}){e1(this,"isOpened"),e1(this,"isSupported"),e1(this,"openSlugFp"),e1(this,"openSlug"),e1(this,"openUrlFp"),e1(this,"openUrl");const s=tX({version:e,isTma:r,requires:"web_app_open_invoice",returns:"task"}),n=(0,y.signal)(!1),i=()=>{n.set(!1)};this.isSupported=th("web_app_open_invoice",e),this.isOpened=(0,y.computed)(n),this.openSlugFp=s((e,r)=>e6(this.isOpened()?tq(new tH("Invoice is already opened")):tP(void 0),tV(()=>(n.set(!0),t("web_app_open_invoice","invoice_closed",{...r,params:{slug:e},capture:t=>e===t.slug}))),tR(e=>(i(),e),e=>(i(),e.status)))),this.openUrlFp=s((e,t)=>{let{hostname:r,pathname:s}=new URL(e,window.location.href);if("t.me"!==r)return tq(new tN(`Link has unexpected hostname: ${r}`));let n=s.match(/^\/(\$|invoice\/)([A-Za-z0-9\-_=]+)$/);return n?this.openSlugFp(n[2],t):tq(new tN('Expected to receive a link with a pathname in format "/invoice/{slug}" or "/${slug}"'))}),this.openUrl=t0(this.openUrlFp),this.openSlug=t0(this.openSlugFp)}}let rO=new rj(e6(t5(),rm,ra)),r$=function({postEvent:e,...t}){return tY((t,r={})=>{if("string"==typeof t)try{t=new URL(t)}catch(e){return e9(new tN(`"${t.toString()}" is invalid URL`,e))}return e("web_app_open_link",{url:t.toString(),try_browser:r.tryBrowser,try_instant_view:r.tryInstantView})},{...t,returns:"either"})}(e6(t5(),ri)),rU=t0(r$),rD=function({postEvent:e,version:t,...r}){return tY(r=>{let s=r.toString();return s.match(/^https:\/\/t.me\/.+/)?eU("web_app_open_tg_link",tp(t))?e("web_app_open_tg_link",{path_full:(r=new URL(r)).pathname+r.search}):(window.location.href=s,e5(void 0)):e9(new tN(`"${s}" is invalid URL`))},{...r,returns:"either"})}(e6(t5(),ri,ra)),rG=t0(rD),rW=function({openTelegramLink:e,...t}){return tY((t,r)=>e("https://t.me/share/url?"+new URLSearchParams({url:t,text:r||""}).toString().replace(/\+/g,"%20")),{...t,returns:"either"})}({...t5(),openTelegramLink:rD}),rN=t0(rW);function rH(e){let t=!1,r,s;return e.available&&(t=!0,r=e.access_requested,s=e.access_granted),{available:t,accessGranted:s||!1,accessRequested:r||!1}}class rK{constructor({version:e,request:t,postEvent:r,storage:s,isTma:n,isPageReload:i}){e1(this,"state"),e1(this,"isAvailable"),e1(this,"isAccessGranted"),e1(this,"isAccessRequested"),e1(this,"isMounted"),e1(this,"isSupported"),e1(this,"openSettingsFp"),e1(this,"openSettings"),e1(this,"requestLocationFp"),e1(this,"requestLocation"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount");const o=new t3({initialState:{available:!1,accessGranted:!1,accessRequested:!1},onChange:s.set}),a=new rc({isPageReload:i,restoreState:s.get,onMounted:o.setState,initialState:e=>e6(t("web_app_check_location","location_checked",e),tB(rH))}),u={version:e,requires:"web_app_check_location",isTma:n},l=tX({...u,returns:"either"}),c=tX({...u,returns:"task"}),p=tX({...u,returns:"task",isMounted:a.isMounted});this.isAvailable=o.getter("available"),this.isAccessRequested=o.getter("accessRequested"),this.isAccessGranted=o.getter("accessGranted"),this.isSupported=th("web_app_check_location",e),this.isMounted=a.isMounted,this.state=o.state,this.unmount=a.unmount,this.mountFp=c(a.mount),this.openSettingsFp=l(()=>r("web_app_open_location_settings")),this.requestLocationFp=p(e=>e6(t("web_app_request_location","location_requested",e),tB(e=>{if(!e.available)return o.setState({available:!1}),null;let{available:t,...r}=e;return r}))),this.mount=t0(this.mountFp),this.openSettings=t0(this.openSettingsFp),this.requestLocation=t0(this.requestLocationFp)}}let rz=new rK(e6(t5(),ri,ra,rm,re("locationManager")));class rJ{constructor({defaults:e,...t}){e1(this,"bgColor"),e1(this,"hasShineEffect"),e1(this,"isEnabled"),e1(this,"isLoaderVisible"),e1(this,"isVisible"),e1(this,"isMounted"),e1(this,"state"),e1(this,"text"),e1(this,"textColor"),e1(this,"showFp"),e1(this,"show"),e1(this,"hideFp"),e1(this,"hide"),e1(this,"enableFp"),e1(this,"enable"),e1(this,"enableShineEffectFp"),e1(this,"enableShineEffect"),e1(this,"disableFp"),e1(this,"disable"),e1(this,"disableShineEffectFp"),e1(this,"disableShineEffect"),e1(this,"setBgColorFp"),e1(this,"setBgColor"),e1(this,"setTextColorFp"),e1(this,"setTextColor"),e1(this,"setTextFp"),e1(this,"setText"),e1(this,"showLoaderFp"),e1(this,"showLoader"),e1(this,"hideLoaderFp"),e1(this,"hideLoader"),e1(this,"setParamsFp"),e1(this,"setParams"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount"),e1(this,"onClickFp"),e1(this,"onClick"),e1(this,"offClickFp"),e1(this,"offClick");const r=new t4({...t,version:"100",initialState:{hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Continue"},method:"web_app_setup_main_button",payload:e=>({has_shine_effect:e.hasShineEffect,is_visible:e.isVisible,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,text:e.text,color:e.bgColor,text_color:e.textColor})}),s=(e,t)=>{let s=r.stateGetter(e);return(0,y.computed)(()=>s()||tp(t))};this.bgColor=s("bgColor",e.bgColor),this.textColor=s("textColor",e.textColor),this.hasShineEffect=r.stateGetter("hasShineEffect"),this.isEnabled=r.stateGetter("isEnabled"),this.isLoaderVisible=r.stateGetter("isLoaderVisible"),this.text=r.stateGetter("text"),this.isVisible=r.stateGetter("isVisible"),this.isMounted=r.isMounted,this.state=r.state,[this.setBgColor,this.setBgColorFp]=r.stateSetters("bgColor"),[this.setTextColor,this.setTextColorFp]=r.stateSetters("textColor"),[[this.disableShineEffect,this.disableShineEffectFp],[this.enableShineEffect,this.enableShineEffectFp]]=r.stateBoolSetters("hasShineEffect"),[[this.disable,this.disableFp],[this.enable,this.enableFp]]=r.stateBoolSetters("isEnabled"),[[this.hideLoader,this.hideLoaderFp],[this.showLoader,this.showLoaderFp]]=r.stateBoolSetters("isLoaderVisible"),[this.setText,this.setTextFp]=r.stateSetters("text"),[[this.hide,this.hideFp],[this.show,this.showFp]]=r.stateBoolSetters("isVisible"),this.setParams=r.setState,this.setParamsFp=r.setStateFp,this.onClick=r.onClick,this.onClickFp=r.onClickFp,this.offClick=r.offClick,this.offClickFp=r.offClickFp,this.mount=r.mount,this.mountFp=r.mountFp,this.unmount=r.unmount}}function rQ(e,t,r){return e6(ru(e,t),e=>({...e,defaults:r}))}let rZ=rt({});function rY(e,t){document.documentElement.style.setProperty(e,t)}function rX(e){document.documentElement.style.removeProperty(e)}function r0(e){return e6((0,S.toRGBFullFp)(e),tn(e=>120>Math.sqrt([.299,.587,.114].reduce((t,r,s)=>{let n=parseInt(e.slice(1+2*s,1+(s+1)*2),16);return t+n*n*r},0))))}let r1=(0,C.throwifyFpFn)(r0);class r2{constructor({initialState:e,onChange:t,offChange:r,isTma:s,storage:n,isPageReload:i}){e1(this,"accentTextColor"),e1(this,"bgColor"),e1(this,"buttonColor"),e1(this,"buttonTextColor"),e1(this,"bottomBarBgColor"),e1(this,"destructiveTextColor"),e1(this,"headerBgColor"),e1(this,"hintColor"),e1(this,"linkColor"),e1(this,"secondaryBgColor"),e1(this,"sectionBgColor"),e1(this,"sectionHeaderTextColor"),e1(this,"sectionSeparatorColor"),e1(this,"subtitleTextColor"),e1(this,"textColor"),e1(this,"_isCssVarsBound",(0,y.signal)(!1)),e1(this,"isCssVarsBound",(0,y.computed)(this._isCssVarsBound)),e1(this,"bindCssVarsFp"),e1(this,"bindCssVars"),e1(this,"state"),e1(this,"isDark",(0,y.computed)(()=>{let e=this.bgColor();return!e||r1(e)})),e1(this,"isMounted"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount");const o=new t3({initialState:{},onChange:n.set}),a=e=>{o.setState(e.theme_params)},u=new t6({initialState:()=>e5(tp(e)),isPageReload:i,onMounted(e){o.setState(e),t(a)},onUnmounted(){r(a)},restoreState:n.get}),l={isTma:s,returns:"either"},c=tX(l),p=tX({...l,isMounted:u.isMounted});this.accentTextColor=o.getter("accent_text_color"),this.bgColor=o.getter("bg_color"),this.buttonColor=o.getter("button_color"),this.buttonTextColor=o.getter("button_text_color"),this.bottomBarBgColor=o.getter("bottom_bar_bg_color"),this.destructiveTextColor=o.getter("destructive_text_color"),this.headerBgColor=o.getter("header_bg_color"),this.hintColor=o.getter("hint_color"),this.linkColor=o.getter("link_color"),this.secondaryBgColor=o.getter("secondary_bg_color"),this.sectionBgColor=o.getter("section_bg_color"),this.sectionHeaderTextColor=o.getter("section_header_text_color"),this.sectionSeparatorColor=o.getter("section_separator_color"),this.subtitleTextColor=o.getter("subtitle_text_color"),this.textColor=o.getter("text_color"),this.state=o.state,this.isMounted=u.isMounted,this.bindCssVarsFp=p(e=>{if(this._isCssVarsBound())return e9(new tU);e||(e=e=>`--tg-theme-${(0,C.snakeToKebab)(e)}`);let t=e=>{Object.entries(o.state()).forEach(([t,r])=>{r&&e(t,r)})},r=()=>{t((t,r)=>{rY(e(t),r)})};return r(),o.state.sub(r),this._isCssVarsBound.set(!0),e5(()=>{t(rX),o.state.unsub(r),this._isCssVarsBound.set(!1)})}),this.mountFp=c(u.mount),this.unmount=u.unmount,this.bindCssVars=t0(this.bindCssVarsFp),this.mount=t0(this.mountFp)}}let r3=new r2({...e6(t5(),re("themeParams")),offChange(e){ey("theme_changed",e)},onChange(e){ev("theme_changed",e)},initialState:rZ}),r6=new rJ(rQ("mainButton","main_button_pressed",{bgColor:(0,y.computed)(()=>r3.buttonColor()||"#2481cc"),textColor:(0,y.computed)(()=>r3.buttonTextColor()||"#ffffff")}));class r4{constructor({storage:e,isPageReload:t,version:r,postEvent:s,isTma:n,theme:i,onVisibilityChanged:o,offVisibilityChanged:a}){e1(this,"isSupported"),e1(this,"isDark",(0,y.computed)(()=>{let e=this.bgColorRgb();return!!e&&r1(e)})),e1(this,"isActive"),e1(this,"state"),e1(this,"isCssVarsBound"),e1(this,"bindCssVarsFp"),e1(this,"bindCssVars"),e1(this,"isMounted"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount"),e1(this,"bgColor"),e1(this,"bgColorRgb"),e1(this,"setBgColorFp"),e1(this,"setBgColor"),e1(this,"headerColor"),e1(this,"headerColorRgb"),e1(this,"setHeaderColorFp"),e1(this,"setHeaderColor"),e1(this,"bottomBarColor"),e1(this,"bottomBarColorRgb"),e1(this,"setBottomBarColorFp"),e1(this,"setBottomBarColor"),e1(this,"closeFp"),e1(this,"close"),e1(this,"readyFp"),e1(this,"ready");const u=e=>{p.setState({isActive:e.is_visible})},l=e=>{[[this.headerColor,"web_app_set_header_color"],[this.bgColor,"web_app_set_background_color"],[this.bottomBarColor,"web_app_set_bottom_bar_color"]].forEach(([t,r])=>{let n=t();if(!(0,S.isRGB)(n)&&("web_app_set_header_color"!==r||!["bg_color","secondary_bg_color"].includes(n))){let t=e[n];t&&s(r,{color:t})}})},c=new t6({initialState:()=>e5({bgColor:"bg_color",headerColor:"header_bg_color",bottomBarColor:"bottom_bar_bg_color",isActive:!0}),isPageReload:t,onMounted:e=>{o(u),i.sub(l),p.setState(e)},onUnmounted(){a(u),i.unsub(l)},restoreState:e.get});this.isMounted=c.isMounted,this.mountFp=tY(()=>{let e=()=>{};return e6(c.mount(),ta(e,e))},{isTma:n,returns:"plain"}),this.mount=t0(this.mountFp),this.unmount=c.unmount;const p=new t3({initialState:{bgColor:"bg_color",bottomBarColor:"bottom_bar_bg_color",headerColor:"bg_color",isActive:!1},onChange:e.set});this.state=p.state;const h=e=>(0,S.isRGB)(e)?e:tp(i)[e];this.isActive=p.getter("isActive"),this.isSupported=(0,y.computed)(()=>["web_app_set_header_color","web_app_set_background_color","web_app_set_bottom_bar_color"].some(e=>eU(e,tp(r))));const d=(0,y.signal)(!1);this.isCssVarsBound=(0,y.computed)(d),this.bindCssVarsFp=tY(e=>{if(d())return e9(new tU);let[t,r]=(0,C.createCbCollector)(()=>{d.set(!1)}),s=(e,r)=>{let s=()=>{rY(e,r()||null)};s(),t(r.sub(s),rX.bind(null,e))};return e||(e=e=>`--tg-${(0,C.camelToKebab)(e)}`),s(e("bgColor"),this.bgColorRgb),s(e("bottomBarColor"),this.bottomBarColorRgb),s(e("headerColor"),this.headerColorRgb),d.set(!0),e5(r)},{isTma:n,returns:"either",isMounted:this.isMounted}),this.bindCssVars=t0(this.bindCssVarsFp);const f=e=>{let t=p.getter(e),i=(0,y.computed)(()=>h(t())),o={headerColor:"web_app_set_header_color",bgColor:"web_app_set_background_color",bottomBarColor:"web_app_set_bottom_bar_color"}[e],a=tY(r=>{if(r===t())return e5(void 0);if("web_app_set_header_color"===o&&("bg_color"===r||"secondary_bg_color"===r))return e6(s("web_app_set_header_color",{color_key:r}),tn(()=>{p.setState({[e]:r})}));let n=h(r);return e6(n?s(o,{color:n}):e9(new tZ(r)),tn(()=>{p.setState({[e]:n})}))},{isTma:n,version:r,requires:o,isMounted:this.isMounted,returns:"either",supports:"headerColor"===e?{rgb:{method:"web_app_set_header_color",param:"color",shouldCheck:S.isRGB}}:void 0});return[t,i,t0(a),a]};[this.bgColor,this.bgColorRgb,this.setBgColor,this.setBgColorFp]=f("bgColor"),[this.headerColor,this.headerColorRgb,this.setHeaderColor,this.setHeaderColorFp]=f("headerColor"),[this.bottomBarColor,this.bottomBarColorRgb,this.setBottomBarColor,this.setBottomBarColorFp]=f("bottomBarColor");const _=tX({isTma:n,returns:"either"});this.closeFp=_(e=>s("web_app_close",{return_back:e})),this.close=t0(this.closeFp),this.readyFp=_(()=>s("web_app_ready")),this.ready=t0(this.readyFp)}}let r9=new r4({...e6(t5(),ri,ra,re("miniApp")),offVisibilityChanged(e){ey("visibility_changed",e)},onVisibilityChanged(e){ev("visibility_changed",e)},theme:r3.state});class r5{constructor({version:e,isTma:t,request:r}){e1(this,"isOpened"),e1(this,"isSupported"),e1(this,"showFp"),e1(this,"show");const s=(0,y.signal)(!1),n=()=>{s.set(!1)},i=tX({version:e,isTma:t,requires:"web_app_open_popup",returns:"task"});this.isSupported=th("web_app_open_popup",e),this.isOpened=(0,y.computed)(s),this.showFp=i(e=>e6(this.isOpened()?tq(new tH("A popup is already opened")):tP(void 0),tV(()=>tS(function(e){let t=e.message.trim(),r=(e.title||"").trim(),s=e.buttons||[];if(r.length>64)return e9(new tN(`Invalid title: ${r}`));if(!t||t.length>256)return e9(new tN(`Invalid message: ${t}`));if(s.length>3)return e9(new tN(`Invalid buttons count: ${s.length}`));let n=[];if(s.length)for(let e=0;e<s.length;e++){let t=s[e],r=t.id||"";if(r.length>64)return e9(new tN(`Button with index ${e} has invalid id: ${r}`));if(t.type&&"default"!==t.type&&"destructive"!==t.type)n.push({type:t.type,id:r});else{let s=t.text.trim();if(!s||s.length>64)return e9(new tN(`Button with index ${e} has invalid text: ${s}`));n.push({type:t.type,text:s,id:r})}}else n.push({type:"close",id:""});return e5({title:r,message:t,buttons:n})}(e))),tV(t=>(s.set(!0),r("web_app_open_popup","popup_closed",{...e,params:t}))),tR(e=>(n(),e),e=>(n(),e.button_id)))),this.show=t0(this.showFp)}}let r8=new r5(e6(t5(),rm,ra)),r7=function({request:e,...t}){return tY(t=>e6(e("web_app_request_phone","phone_requested",t),tB(e=>e.status)),{...t,requires:"web_app_request_phone",returns:"task"})}(e6(t5(),ra,rm)),se=t0(r7),st=function({invokeCustomMethod:e,requestPhoneAccess:t,...r}){let s=t=>e6(e6(e("getRequestedContact",{},{...t,timeout:(t||{}).timeout||5e3}),tV(e=>{let t=(0,w.safeParse)((0,w.string)(),e);if(!t.success)return tq(new t$(e,t.issues));if(!t.output)return tP(void 0);let r=(0,w.safeParse)((0,S.pipeQueryToSchema)((0,w.looseObject)({contact:(0,S.pipeJsonToSchema)((0,w.looseObject)({user_id:(0,w.number)(),phone_number:(0,w.string)(),first_name:(0,w.string)(),last_name:(0,w.optional)((0,w.string)())})),auth_date:(0,w.pipe)((0,w.string)(),(0,w.transform)(e=>new Date(1e3*Number(e))),(0,w.date)()),hash:(0,w.string)()})),t.output);return r.success?tP({raw:t.output,parsed:r.output}):tq(new t$(t.output,r.issues))})),tI(e=>t$.is(e)?e9(e):e5(void 0),e=>e5(e)));return tY(e=>C.BetterTaskEither.fn(e=>e6(s(e),tV(r=>r?tP(r):e6(t(e),tV(t=>"sent"===t?(0,C.BetterTaskEither)(async(e,t,r)=>{let n=50;for(;!r.isRejected;){let i=await s(r)();if("Left"===i._tag)return t(i.left);if(i.right)return e(i.right);await new Promise(e=>setTimeout(e,n)),n+=50}},e):tq(new tz("User denied access")))))),e),{...r,returns:"task",requires:"web_app_request_phone"})}({...e6(t5(),rS,ra),requestPhoneAccess:r7}),sr=t0(st),ss=function({requestContact:e,...t}){return tY(e,{...t,returns:"task",requires:"web_app_request_phone"})}({...e6(t5(),ra),requestContact:e=>e6(st(e),tB(e=>e.parsed))}),sn=t0(ss),si=function({request:e,...t}){return tY(t=>e6(e("web_app_request_write_access","write_access_requested",t),tB(e=>e.status)),{...t,requires:"web_app_request_write_access",returns:"task"})}(e6(t5(),ra,rm)),so=t0(si);class sa{constructor({version:e,onClosed:t,onTextReceived:r,isTma:s,postEvent:n}){e1(this,"isOpened"),e1(this,"isSupported"),e1(this,"captureFp"),e1(this,"capture"),e1(this,"closeFp"),e1(this,"close"),e1(this,"openFp"),e1(this,"open");const i={version:e,requires:"web_app_open_scan_qr_popup",isTma:s},o=tX({...i,returns:"either"}),a=tX({...i,returns:"task"}),u=(0,y.signal)(!1),l=()=>{u.set(!1)};this.isSupported=th("web_app_open_scan_qr_popup",e),this.isOpened=(0,y.computed)(u),this.captureFp=a(e=>{let t;return e6(this.openFp({...e,onCaptured:r=>{e.capture(r)&&(t=r,this.close())}}),tB(()=>t))}),this.closeFp=o(()=>e6(n("web_app_close_scan_qr_popup"),tn(l))),this.openFp=a(e=>e6(this.isOpened()?tq(new tH("The QR Scanner is already opened")):async()=>n("web_app_open_scan_qr_popup",{text:e.text}),tV(()=>{let[s,n]=(0,C.createCbCollector)(),i=e=>(n(),e);return e6((0,C.BetterTaskEither)(n=>{s(t(n),r(e.onCaptured))},e),tR(i,i))}))),this.open=t0(this.openFp),this.capture=t0(this.captureFp),this.close=t0(this.closeFp)}}let su=new sa({...e6(t5(),ri,ra),onClosed:e=>ev("scan_qr_popup_closed",e),onTextReceived:e=>ev("qr_text_received",t=>{e(t.data)})});class sl{constructor({defaults:e,...t}){e1(this,"isSupported"),e1(this,"position"),e1(this,"bgColor"),e1(this,"hasShineEffect"),e1(this,"isEnabled"),e1(this,"isLoaderVisible"),e1(this,"isVisible"),e1(this,"isMounted"),e1(this,"state"),e1(this,"text"),e1(this,"textColor"),e1(this,"showFp"),e1(this,"show"),e1(this,"hideFp"),e1(this,"hide"),e1(this,"enableFp"),e1(this,"enable"),e1(this,"enableShineEffectFp"),e1(this,"enableShineEffect"),e1(this,"disableFp"),e1(this,"disable"),e1(this,"disableShineEffectFp"),e1(this,"disableShineEffect"),e1(this,"setBgColorFp"),e1(this,"setBgColor"),e1(this,"setTextColorFp"),e1(this,"setTextColor"),e1(this,"setTextFp"),e1(this,"setText"),e1(this,"setPositionFp"),e1(this,"setPosition"),e1(this,"showLoaderFp"),e1(this,"showLoader"),e1(this,"hideLoaderFp"),e1(this,"hideLoader"),e1(this,"setParamsFp"),e1(this,"setParams"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount"),e1(this,"onClickFp"),e1(this,"onClick"),e1(this,"offClickFp"),e1(this,"offClick");const r=new t4({...t,initialState:{hasShineEffect:!1,isEnabled:!0,isLoaderVisible:!1,isVisible:!1,text:"Cancel",position:"left"},method:"web_app_setup_secondary_button",payload:e=>({has_shine_effect:e.hasShineEffect,is_visible:e.isVisible,is_active:e.isEnabled,is_progress_visible:e.isLoaderVisible,text:e.text,color:e.bgColor,text_color:e.textColor,position:e.position})}),s=(e,t)=>{let s=r.stateGetter(e);return(0,y.computed)(()=>s()||tp(t))};this.isSupported=th("web_app_setup_secondary_button",t.version),this.bgColor=s("bgColor",e.bgColor),this.textColor=s("textColor",e.textColor),this.position=r.stateGetter("position"),this.hasShineEffect=r.stateGetter("hasShineEffect"),this.isEnabled=r.stateGetter("isEnabled"),this.isLoaderVisible=r.stateGetter("isLoaderVisible"),this.text=r.stateGetter("text"),this.isVisible=r.stateGetter("isVisible"),this.isMounted=r.isMounted,this.state=r.state,[this.setPosition,this.setPositionFp]=r.stateSetters("position"),[this.setBgColor,this.setBgColorFp]=r.stateSetters("bgColor"),[this.setTextColor,this.setTextColorFp]=r.stateSetters("textColor"),[[this.disableShineEffect,this.disableShineEffectFp],[this.enableShineEffect,this.enableShineEffectFp]]=r.stateBoolSetters("hasShineEffect"),[[this.disable,this.disableFp],[this.enable,this.enableFp]]=r.stateBoolSetters("isEnabled"),[[this.hideLoader,this.hideLoaderFp],[this.showLoader,this.showLoaderFp]]=r.stateBoolSetters("isLoaderVisible"),[this.setText,this.setTextFp]=r.stateSetters("text"),[[this.hide,this.hideFp],[this.show,this.showFp]]=r.stateBoolSetters("isVisible"),this.setParams=r.setState,this.setParamsFp=r.setStateFp,this.onClick=r.onClick,this.onClickFp=r.onClickFp,this.offClick=r.offClick,this.offClickFp=r.offClickFp,this.mount=r.mount,this.mountFp=r.mountFp,this.unmount=r.unmount}}let sc=new sl(rQ("secondaryButton","secondary_button_pressed",{bgColor:(0,y.computed)(()=>r9.bottomBarColorRgb()||"#000000"),textColor:(0,y.computed)(()=>r3.buttonColor()||"#2481cc")}));class sp{constructor(e){e1(this,"isVisible"),e1(this,"isMounted"),e1(this,"isSupported"),e1(this,"hideFp"),e1(this,"hide"),e1(this,"showFp"),e1(this,"show"),e1(this,"onClickFp"),e1(this,"onClick"),e1(this,"offClickFp"),e1(this,"offClick"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount");const t=new t4({...e,method:"web_app_setup_settings_button",payload:e=>({is_visible:e.isVisible}),initialState:{isVisible:!1}});this.isVisible=t.stateGetter("isVisible"),this.isMounted=t.isMounted,this.isSupported=t.isSupported,[[this.hide,this.hideFp],[this.show,this.showFp]]=t.stateBoolSetters("isVisible"),this.onClick=t.onClick,this.onClickFp=t.onClickFp,this.offClick=t.offClick,this.offClickFp=t.offClickFp,this.mount=t.mount,this.mountFp=t.mountFp,this.unmount=t.unmount}}let sh=new sp(ru("settingsButton","settings_button_pressed"));class sd{constructor({postEvent:e,storage:t,isTma:r,isPageReload:s,version:n}){e1(this,"isSupported"),e1(this,"isVerticalEnabled"),e1(this,"isMounted"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"unmount"),e1(this,"disableVerticalFp"),e1(this,"disableVertical"),e1(this,"enableVerticalFp"),e1(this,"enableVertical");const i={isVerticalEnabled:!0},o=new t3({initialState:i,onChange(e){t.set(e)}}),a=new t6({initialState:i,isPageReload:s,onMounted:o.setState,restoreState:t.get}),u={requires:"web_app_setup_swipe_behavior",isTma:r,version:n},l=tX({...u,returns:"plain"}),c=tX({...u,isMounted:a.isMounted,returns:"either"}),p=t=>{let r={isVerticalEnabled:t};return o.hasDiff(r)?e6(e("web_app_setup_swipe_behavior",{allow_vertical_swipe:t}),tn(()=>{o.setState(r)})):e5(void 0)};this.isSupported=th("web_app_setup_swipe_behavior",n),this.isVerticalEnabled=o.getter("isVerticalEnabled"),this.isMounted=a.isMounted,this.disableVerticalFp=c(()=>p(!1)),this.enableVerticalFp=c(()=>p(!0)),this.mountFp=l(()=>{let e=()=>{};return e6(a.mount(),ta(e,e))}),this.unmount=a.unmount,this.disableVertical=t0(this.disableVerticalFp),this.enableVertical=t0(this.enableVerticalFp),this.mount=t0(this.mountFp)}}let sf=new sd(e6(t5(),ri,ra,re("swipeBehavior")));async function s_(e){try{let{clipboard:t}=navigator;if(t)return await t.writeText(e)}catch{}let t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}finally{document.body.removeChild(t)}}let sm=function({request:e,...t}){return tY((t,r,s)=>e6(e("web_app_request_file_download","file_download_requested",{...s,params:{url:t,file_name:r}}),tV(e=>"downloading"===e.status?tP(void 0):tq(new tz("User denied the action")))),{...t,requires:"web_app_request_file_download",returns:"task"})}(e6(t5(),rm,ra)),sb=t0(sm),sg=function({invokeCustomMethod:e,...t}){return tY(t=>e6(e("getCurrentTime",{},t),tV(e=>{let t=(0,w.safeParse)((0,w.pipe)((0,w.number)(),(0,w.integer)(),(0,w.transform)(e=>new Date(1e3*e)),(0,w.date)()),e);return t.success?tP(t.output):tq(new t$(e,t.issues))})),{...t,requires:"web_app_invoke_custom_method",returns:"task"})}(e6(t5(),rS,ra)),sv=t0(sg),sy=function({postEvent:e,...t}){return tY(()=>e("web_app_hide_keyboard"),{...t,returns:"either",requires:"web_app_hide_keyboard"})}(e6(t5(),ri,ra)),sw=t0(sy),sC=function({request:e,createRequestId:t,...r}){return tY(r=>{let s=t();return e6(e("web_app_read_text_from_clipboard","clipboard_text_received",{...r,params:{req_id:s},capture:eL(s)}),tB(({data:e=null})=>e))},{...r,requires:"web_app_read_text_from_clipboard",returns:"task"})}({...e6(t5(),ra,rm),createRequestId:rC}),sF=t0(sC);function sS(e){let t={},r=e.match(/Telegram-Android(?:\/([^ ]+))?(?: (\([^)]+\))?|$)/);if(r){let[,e,s]=r;e&&(t.appVersion=e),s&&s.slice(1,s.length-1).split(";").forEach(e=>{let[r,s]=e.trim().split(" ");if("Android"===r)t.androidVersion=s;else if("SDK"===r){let e=parseInt(s,10);e&&(t.sdkVersion=e)}else s?(t.manufacturer=r,t.model=s):t.performanceClass=r})}return t}function sk(){return sS(navigator.userAgent)}let sE=function({postEvent:e,...t}){return tY(t=>{let{size:r}=new Blob([t]);return!r||r>4096?e9(new tN(r?"Maximum size of data to send is 4096 bytes":"Attempted to send empty data")):e("web_app_data_send",{data:t})},{...t,returns:"either"})}(e6(t5(),ri)),sx=t0(sE),sA=function({request:e,...t}){return tY((t,r)=>e6(e("web_app_send_prepared_message",["prepared_message_failed","prepared_message_sent"],{...r,params:{id:t}}),tV(e=>e&&"error"in e?tq(new tQ(e.error)):tP(void 0))),{...t,requires:"web_app_send_prepared_message",returns:"task"})}(e6(t5(),rm,ra)),sT=t0(sA),sq=function({postEvent:e,...t}){return tY((t,r={})=>e("web_app_share_to_story",{text:r.text,media_url:t,widget_link:r.widgetLink}),{...t,requires:"web_app_share_to_story",returns:"either"})}(e6(t5(),ri,ra)),sP=t0(sq),sI=rt(!1),sB=function({isInlineMode:e,postEvent:t,...r}){return tY((e,r)=>t("web_app_switch_inline_query",{query:e,chat_types:r||[]}),{...r,requires:{every:["web_app_switch_inline_query",()=>tp(e)?void 0:"The application must be launched in the inline mode"]},returns:"either"})}({...e6(t5(),ri,ra),isInlineMode:sI}),sR=t0(sB);class sM{constructor({storage:e,isPageReload:t,onContentSafeAreaInsetsChanged:r,onSafeAreaInsetsChanged:s,onViewportChanged:n,onFullscreenChanged:i,offContentSafeAreaInsetsChanged:o,offFullscreenChanged:a,offSafeAreaInsetsChanged:u,offViewportChanged:l,request:c,isViewportStable:p,isFullscreen:h,isTma:d,version:f,postEvent:_}){e1(this,"state"),e1(this,"height"),e1(this,"stableHeight"),e1(this,"width"),e1(this,"isExpanded"),e1(this,"isStable",(0,y.computed)(()=>this.height()===this.stableHeight())),e1(this,"contentSafeAreaInsets"),e1(this,"contentSafeAreaInsetTop"),e1(this,"contentSafeAreaInsetLeft"),e1(this,"contentSafeAreaInsetRight"),e1(this,"contentSafeAreaInsetBottom"),e1(this,"safeAreaInsets"),e1(this,"safeAreaInsetTop"),e1(this,"safeAreaInsetLeft"),e1(this,"safeAreaInsetRight"),e1(this,"safeAreaInsetBottom"),e1(this,"isFullscreen"),e1(this,"requestFullscreenFp"),e1(this,"requestFullscreen"),e1(this,"exitFullscreenFp"),e1(this,"exitFullscreen"),e1(this,"isCssVarsBound"),e1(this,"bindCssVarsFp"),e1(this,"bindCssVars"),e1(this,"isMounted"),e1(this,"mountFp"),e1(this,"mount"),e1(this,"expandFp"),e1(this,"expand");const m={top:0,right:0,left:0,bottom:0},b=new t3({initialState:{contentSafeAreaInsets:m,height:0,isExpanded:!1,isFullscreen:!1,safeAreaInsets:m,stableHeight:0,width:0},onChange:e.set}),g=e=>{b.setState({isExpanded:e.is_expanded,height:e.height,width:e.width,stableHeight:e.is_state_stable?e.height:void 0})},v=e=>{b.setState({isFullscreen:e.is_fullscreen})},w=e=>{b.setState({safeAreaInsets:e})},F=e=>{b.setState({contentSafeAreaInsets:e})},S=new rc({initialState(e){let t=t=>()=>{let[r,s]="safe-area"===t?["web_app_request_safe_area","safe_area_changed"]:["web_app_request_content_safe_area","content_safe_area_changed"];return eU(r,tp(f))?c(r,s,e):tP({top:0,left:0,right:0,bottom:0})},r=e=>()=>"boolean"==typeof e?tP(e):tS(e());return e6(tL,tj("safeAreaInsets",t("safe-area")),tj("contentSafeAreaInsets",t("content-safe-area")),tj("isFullscreen",r(h)),tj("isViewportStable",r(p)),tV(({isViewportStable:t,...r})=>t?tP({...r,height:window.innerHeight,isExpanded:!0,stableHeight:window.innerHeight,width:window.innerWidth}):e6(c("web_app_request_viewport","viewport_changed",e),tB(e=>({...r,height:e.height,isExpanded:e.is_expanded,stableHeight:e.is_state_stable?e.height:0,width:e.width})))))},isPageReload:t,onMounted(e){n(g),i(v),s(w),r(F),b.setState(e)},onUnmounted(){l(g),a(v),u(w),o(F)},restoreState:e.get}),k=e=>(0,y.computed)(()=>this.safeAreaInsets()[e]),E=e=>(0,y.computed)(()=>this.contentSafeAreaInsets()[e]);this.state=b.state,this.height=b.getter("height"),this.stableHeight=b.getter("stableHeight"),this.width=b.getter("width"),this.isExpanded=b.getter("isExpanded"),this.safeAreaInsets=b.getter("safeAreaInsets"),this.safeAreaInsetTop=k("top"),this.safeAreaInsetBottom=k("bottom"),this.safeAreaInsetLeft=k("left"),this.safeAreaInsetRight=k("right"),this.contentSafeAreaInsets=b.getter("contentSafeAreaInsets"),this.contentSafeAreaInsetTop=E("top"),this.contentSafeAreaInsetBottom=E("bottom"),this.contentSafeAreaInsetLeft=E("left"),this.contentSafeAreaInsetRight=E("right");const x=tX({isTma:d,returns:"task"}),A=tX({isTma:d,returns:"either"}),T=tX({isTma:d,requires:"web_app_request_fullscreen",version:f,returns:"task"}),q=e=>T(t=>e6(c(e?"web_app_request_fullscreen":"web_app_exit_fullscreen",["fullscreen_changed","fullscreen_failed"],t),tV(e=>"error"in e&&"ALREADY_FULLSCREEN"!==e.error?tq(new tJ(e.error)):(b.setState({isFullscreen:!("is_fullscreen"in e)||e.is_fullscreen}),tP(void 0)))));this.isMounted=S.isMounted,this.mountFp=x(S.mount),this.mount=t0(this.mountFp),this.isFullscreen=b.getter("isFullscreen"),this.requestFullscreenFp=q(!0),this.requestFullscreen=t0(this.requestFullscreenFp),this.exitFullscreenFp=q(!1),this.exitFullscreen=t0(this.exitFullscreenFp);const P=(0,y.signal)(!1);this.isCssVarsBound=(0,y.computed)(P),this.bindCssVarsFp=A(e=>{if(P())return e9(new tU);e||(e=e=>`--tg-viewport-${(0,C.camelToKebab)(e)}`);let t=[["height",this.height],["stableHeight",this.stableHeight],["width",this.width],["safeAreaInsetTop",this.safeAreaInsetTop],["safeAreaInsetBottom",this.safeAreaInsetBottom],["safeAreaInsetLeft",this.safeAreaInsetLeft],["safeAreaInsetRight",this.safeAreaInsetRight],["contentSafeAreaInsetTop",this.contentSafeAreaInsetTop],["contentSafeAreaInsetBottom",this.contentSafeAreaInsetBottom],["contentSafeAreaInsetLeft",this.contentSafeAreaInsetLeft],["contentSafeAreaInsetRight",this.contentSafeAreaInsetRight]].reduce((t,[r,s])=>{let n=e(r);if(n){let e=()=>{rY(n,`${s()}px`)};t.push({update:e,removeListener:s.sub(e),cssVar:n})}return t},[]);return t.forEach(e=>{e.update()}),P.set(!0),e5(()=>{t.forEach(e=>{e.removeListener(),rX(e.cssVar)}),P.set(!1)})}),this.bindCssVars=t0(this.bindCssVarsFp),this.expandFp=A(()=>_("web_app_expand")),this.expand=t0(this.expandFp)}}let sV=(i=(n=e=>({on:t=>{ev(e,t)},off:t=>{ey(e,t)}}))("viewport_changed"),o=n("fullscreen_changed"),a=n("safe_area_changed"),u=n("content_safe_area_changed"),new sM({...e6(t5(),re("viewport"),ra,ri,rm),isFullscreen:()=>e6(eo(),tn(e=>!!e.tgWebAppFullscreen)),isViewportStable:()=>e6(eo(),tn(e=>["macos","tdesktop","unigram","webk","weba","web"].includes(e.tgWebAppPlatform))),offContentSafeAreaInsetsChanged:u.off,offFullscreenChanged:o.off,offSafeAreaInsetsChanged:a.off,offViewportChanged:i.off,onContentSafeAreaInsetsChanged:u.on,onFullscreenChanged:o.on,onSafeAreaInsetsChanged:a.on,onViewportChanged:i.on}));function sL(e={}){let{version:t,isInlineMode:r,themeParams:s}=e;if(t&&"boolean"==typeof r&&s)ro.set(t),sI.set(r),rZ.set(s);else{let e=e6(eo(),ta(e=>e,e=>{ro.set(t||e.tgWebAppVersion),sI.set("boolean"==typeof r?r:!!e.tgWebAppBotInline),rZ.set(s||e.tgWebAppThemeParams)}));if(e)return e9(e)}e.postEvent&&rr.set(e.postEvent);let[n,i]=(0,C.createCbCollector)(ev("reload_iframe",()=>{eP().log("Received a request to reload the page"),rn("iframe_will_reload"),window.location.reload()})),{acceptCustomStyles:o=!0}=e;if(o){let e=document.createElement("style");e.id="telegram-custom-styles",document.head.appendChild(e),n(ev("set_custom_style",t=>{e.innerHTML=t}),()=>{document.head.removeChild(e)})}return e6(rs("iframe_ready",{reload_supported:!0}),tn(()=>(eP().log("The package was initialized"),i)))}let sj=(0,C.throwifyFpFn)(sL);e.s(["AccessDeniedError",()=>tz,"BackButton",()=>t9,"Biometry",()=>rd,"CSSVarsBoundError",()=>tU,"ClosingBehavior",()=>rg,"CloudStorage",()=>ry,"ConcurrentCallError",()=>tH,"FullscreenFailedError",()=>tJ,"FunctionUnavailableError",()=>tW,"HapticFeedback",()=>rq,"InitData",()=>rV,"InvalidArgumentsError",()=>tN,"InvalidEnvError",()=>tG,"Invoice",()=>rj,"LocationManager",()=>rK,"MainButton",()=>rJ,"MiniApp",()=>r4,"NotAvailableError",()=>tD,"Popup",()=>r5,"QrScanner",()=>sa,"SecondaryButton",()=>sl,"SetEmojiStatusError",()=>tK,"SettingsButton",()=>sp,"ShareMessageError",()=>tQ,"SwipeBehavior",()=>sd,"ThemeParams",()=>r2,"UnknownThemeParamsKeyError",()=>tZ,"ValidationError",()=>t$,"Viewport",()=>sM,"addToHomeScreen",()=>rB,"addToHomeScreenFp",()=>rI,"backButton",()=>rl,"biometry",()=>rb,"checkHomeScreenStatus",()=>rM,"checkHomeScreenStatusFp",()=>rR,"closingBehavior",()=>rv,"cloudStorage",()=>rk,"copyTextToClipboard",()=>s_,"createRequestId",()=>rC,"downloadFile",()=>sb,"downloadFileFp",()=>sm,"getCurrentTime",()=>sv,"getCurrentTimeFp",()=>sg,"hapticFeedback",()=>rP,"hideKeyboard",()=>sw,"hideKeyboardFp",()=>sy,"init",()=>sj,"initData",()=>rL,"initFp",()=>sL,"invoice",()=>rO,"invokeCustomMethod",()=>rF,"isColorDark",()=>r1,"isColorDarkFp",()=>r0,"locationManager",()=>rz,"mainButton",()=>r6,"miniApp",()=>r9,"openLink",()=>rU,"openLinkFp",()=>r$,"openTelegramLink",()=>rG,"openTelegramLinkFp",()=>rD,"popup",()=>r8,"postEvent",()=>rn,"postEventFp",()=>rs,"qrScanner",()=>su,"readTextFromClipboard",()=>sF,"readTextFromClipboardFp",()=>sC,"request",()=>r_,"requestContact",()=>sn,"requestContactComplete",()=>sr,"requestContactCompleteFp",()=>st,"requestContactFp",()=>ss,"requestEmojiStatusAccess",()=>rx,"requestEmojiStatusAccessFp",()=>rE,"requestFp",()=>rf,"requestPhoneAccess",()=>se,"requestPhoneAccessFp",()=>r7,"requestWriteAccess",()=>so,"requestWriteAccessFp",()=>si,"retrieveAndroidDeviceData",()=>sk,"retrieveAndroidDeviceDataFrom",()=>sS,"secondaryButton",()=>sc,"sendData",()=>sx,"sendDataFp",()=>sE,"setEmojiStatus",()=>rT,"setEmojiStatusFp",()=>rA,"settingsButton",()=>sh,"shareMessage",()=>sT,"shareMessageFp",()=>sA,"shareStory",()=>sP,"shareStoryFp",()=>sq,"shareURL",()=>rN,"shareURLFp",()=>rW,"swipeBehavior",()=>sf,"switchInlineQuery",()=>sR,"switchInlineQueryFp",()=>sB,"themeParams",()=>r3,"viewport",()=>sV],99780)}]);