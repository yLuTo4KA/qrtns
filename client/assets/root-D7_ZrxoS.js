import{a as i,p as o,w as R,q as M,M as L,L as B,S as T,t as D,O as q,i as I}from"./chunk-4WY6JWTD-Ii6HoUiY.js";import{N as P,a as x,$ as E,y as S,b as w,v as g,i as y,c as $,n as U,d as N,Q,J as V,l as W,p as G,z as H,e as K,X as z,f as X,S as Y,g as Z,h as J,j as ee,k as te,m as re,o as ae,B as ne,q as se,r as oe,s as ie,T as ce,Z as ue,R as le,H as pe,W as de,t as fe,K as me,u as he,w as ge,V as be,x as we,A as ye,C as _e,F as Ee,D as ve,E as je,G as Pe,I as xe,L as Se,M as Oe,O as Fe,P as ke,U as Ce,Y as Ae,_ as Re,a0 as Me,a1 as Le,a2 as Be,a3 as Te,a4 as De,a5 as qe,a6 as Ie,a7 as $e,a8 as Ue,a9 as Ne,aa as Qe,ab as Ve,ac as We,ad as Ge,ae as He,af as Ke,ag as ze,ah as Xe,ai as Ye,aj as Ze,ak as Je,al as et,am as tt,an as rt,ao as at,ap as nt,aq as st,ar as ot,as as it,at as ct,au as ut,av as lt,aw as pt,ax as dt,ay as ft,az as mt,aA as ht,aB as gt,aC as bt,aD as wt,aE as yt,aF as _t,aG as Et,aH as vt,aI as jt,aJ as Pt,aK as xt,aL as St,aM as Ot}from"./index-dPgfZioe.js";function Ft(){const[e,t]=i.useState(!1);return i.useEffect(()=>{t(!0)},[]),e}const h=e=>typeof e=="object"&&e!==null,O=(e,t)=>{if(e===t)return!0;if(e==null||t==null||!h(e)&&!h(t))return!1;if(h(e)&&h(t)){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&Object.prototype.hasOwnProperty.call(t,r)){if(!O(e[r],t[r]))return!1}else return!1;return!0}return!1},kt=e=>{const t=i.useRef(e);return O(t.current,e)||(t.current=e),t.current};function Ct(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function At(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{},a=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(a=a.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),a.forEach(function(n){Ct(e,n,r[n])})}return e}function Rt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r.push.apply(r,a)}return r}function Mt(e,t){return t=t??{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Rt(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}),e}function Lt(e,t){if(e==null)return{};var r={},a=Object.keys(e),n,s;for(s=0;s<a.length;s++)n=a[s],!(t.indexOf(n)>=0)&&(r[n]=e[n]);return r}function Bt(e,t){if(e==null)return{};var r=Lt(e,t),a,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)a=s[n],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function Tt(...e){const t=[];return e.forEach(r=>{if(r)switch(typeof r){case"string":t.push(r);break;case"object":Object.keys(r).forEach(a=>{r[a]&&t.push(a)});break;default:t.push(`${r}`)}}),t.join(" ")}const b=i.createContext({isRendered:!1}),v=!!(typeof window<"u"&&window.document&&window.document.createElement),Dt=(e,t)=>{t&&(typeof t=="function"?t(e):t.current=e)},qt=(...e)=>{let t=null;return{get current(){return t},set current(r){t=r,e.forEach(a=>a&&Dt(r,a))}}},_=()=>{var e;if(v)return(e=window.Telegram)===null||e===void 0?void 0:e.WebApp},It=e=>{if(!v||!window.matchMedia)return()=>{};const t=window.matchMedia("(prefers-color-scheme: dark)"),r=()=>{e(t.matches?"dark":"light")};return t.addEventListener("change",r),()=>t.removeEventListener("change",r)},$t=()=>v&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light",Ut=e=>{const{appearance:t}=i.useContext(b),[r,a]=i.useState(e||t||$t()),n=i.useCallback(()=>{const s=_();s&&a(s.colorScheme)},[]);return i.useEffect(()=>{if(e!==void 0)return a(e),()=>{};const s=_();return s?(s.onEvent("themeChanged",n),()=>s.offEvent("themeChanged",n)):It(a)},[e]),r},Nt=()=>{const e=_();return e&&["ios","macos"].includes(e.platform)?"ios":"base"},Qt=e=>{if(e!==void 0)return e;const t=i.useContext(b);return t.isRendered&&t.platform!==void 0?t.platform:Nt()},Vt=e=>{if(e!==void 0)return e;const t=i.useContext(b);return t.isRendered&&t.portalContainer!==void 0?t.portalContainer:i.useRef(null)},Wt=i.forwardRef((e,t)=>{var{platform:r,appearance:a,portalContainer:n,children:s,className:c}=e,u=Bt(e,["platform","appearance","portalContainer","children","className"]);const m=Ut(a),l=Vt(n),p=Qt(r),f=kt({platform:p,appearance:m,portalContainer:l,isRendered:!0});return o.jsx("div",Mt(At({ref:qt(t,l),className:Tt("tgui-6a12827a138e8827",p==="ios"&&"tgui-56dbb42c1dbd5e2b",m==="dark"&&"tgui-865b921add8ee075",c)},u),{children:o.jsx(b.Provider,{value:f,children:s})}))});function F(e,t){return i.useSyncExternalStore(r=>e.sub(r),e,e)}function k(e){return i.useMemo(()=>P(),[e])}const Gt=Object.freeze(Object.defineProperty({__proto__:null,AccessDeniedError:$,BackButton:U,Biometry:N,CSSVarsBoundError:Q,CancelledError:V,ClosingBehavior:W,CloudStorage:G,ConcurrentCallError:H,FullscreenFailedError:K,FunctionUnavailableError:z,HapticFeedback:X,InitData:Y,InvalidArgumentsError:Z,InvalidEnvError:J,InvalidLaunchParamsError:ee,Invoice:te,InvokeCustomMethodFailedError:re,LaunchParamsRetrieveError:ae,LocationManager:ne,MainButton:se,MethodParameterUnsupportedError:oe,MethodUnsupportedError:ie,MiniApp:ce,NotAvailableError:ue,Popup:le,QrScanner:pe,SecondaryButton:de,SetEmojiStatusError:fe,SettingsButton:me,ShareMessageError:he,SwipeBehavior:ge,ThemeParams:be,TimeoutError:we,UnknownEnvError:ye,UnknownThemeParamsKeyError:_e,ValidationError:Ee,Viewport:ve,addToHomeScreenFp:je,backButton:S,checkHomeScreenStatusFp:Pe,createLogger:xe,createRequestId:Se,createStartParamFp:Oe,debug:Fe,decodeBase64UrlFp:ke,downloadFileFp:Ce,emitEvent:Ae,encodeBase64Url:Re,getCurrentTimeFp:Me,getReleaseVersion:Le,hideKeyboardFp:Be,init:x,initFp:Te,invokeCustomMethod:De,isAnyRGB:qe,isColorDark:Ie,isColorDarkFp:$e,isRGB:Ue,isRGBA:Ne,isRGBAShort:Qe,isRGBShort:Ve,isTMA:We,isTMAFp:Ge,logger:He,miniApp:E,mockTelegramEnv:Ke,off:ze,on:Xe,openLinkFp:Ye,openTelegramLinkFp:Ze,parseInitDataQueryFp:Je,parseLaunchParamsQuery:et,parseLaunchParamsQueryFp:tt,postEvent:rt,postEventFp:at,qrScanner:nt,readTextFromClipboardFp:st,requestContactCompleteFp:ot,requestContactFp:it,requestEmojiStatusAccessFp:ct,requestFp:ut,requestPhoneAccessFp:lt,requestWriteAccessFp:pt,retrieveLaunchParams:P,retrieveLaunchParamsFp:dt,retrieveRawInitDataFp:ft,retrieveRawLaunchParamsFp:mt,sendData:ht,sendDataFp:gt,serializeInitDataQuery:bt,serializeLaunchParamsQuery:wt,setEmojiStatusFp:yt,shareMessageFp:_t,shareStoryFp:Et,shareURLFp:vt,supports:jt,swipeBehavior:w,switchInlineQueryFp:Pt,targetOrigin:xt,themeParams:g,toRGBFp:St,toRGBFullFp:Ot,useLaunchParams:k,useSignal:F,viewport:y},Symbol.toStringTag,{value:"Module"}));async function Ht(){x(),E.mount(),S.mount(),w.mount(),w.disableVertical(),g.mount(),g.isCssVarsBound()||g.bindCssVars(),y.requestFullscreen.isAvailable()&&y.requestFullscreen()}const Kt="modulepreload",zt=function(e){return"/"+e},j={},Xt=function(t,r,a){let n=Promise.resolve();if(r&&r.length>0){let m=function(l){return Promise.all(l.map(p=>Promise.resolve(p).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=c?.nonce||c?.getAttribute("nonce");n=m(r.map(l=>{if(l=zt(l),l in j)return;j[l]=!0;const p=l.endsWith(".css"),f=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=p?"stylesheet":Kt,p||(d.as="script"),d.crossOrigin="",d.href=l,u&&d.setAttribute("nonce",u),document.head.appendChild(d),p)return new Promise((C,A)=>{d.addEventListener("load",C),d.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return n.then(c=>{for(const u of c||[])u.status==="rejected"&&s(u.reason);return t().catch(s)})};async function Yt(){const{isTMA:e,mockTelegramEnv:t,emitEvent:r}=await Xt(async()=>{const{isTMA:s,mockTelegramEnv:c,emitEvent:u}=await Promise.resolve().then(()=>Gt);return{isTMA:s,mockTelegramEnv:c,emitEvent:u}},void 0);if(await e("complete",{timeout:100}))return;const a={left:0,top:0,bottom:0,right:0},n={accent_text_color:"#6ab2f2",bg_color:"#000",button_color:"#5288c1",button_text_color:"#ffffff",destructive_text_color:"#ec3942",header_bg_color:"#17212b",hint_color:"#708499",link_color:"#6ab3f3",secondary_bg_color:"#232e3c",section_bg_color:"#17212b",section_header_text_color:"#6ab3f3",subtitle_text_color:"#708499",text_color:"#f5f5f5"};t({launchParams:{tgWebAppThemeParams:n,tgWebAppData:new URLSearchParams([["user",JSON.stringify({id:1,first_name:"Pavel"})],["hash",""],["signature",""],["auth_date",Date.now().toString()]]),tgWebAppStartParam:"debug",tgWebAppVersion:"8",tgWebAppPlatform:"tdesktop"},onEvent(s){s.name==="web_app_request_theme"?r("theme_changed",{theme_params:n}):s.name==="web_app_request_viewport"?r("viewport_changed",{height:window.innerHeight,width:window.innerWidth,is_expanded:!0,is_state_stable:!0}):s.name==="web_app_request_content_safe_area"?r("content_safe_area_changed",a):s.name==="web_app_request_safe_area"&&r("safe_area_changed",a)}}),console.warn("⚠️ Mock Telegram environment enabled (dev-only). Runs only in browser development mode.")}function Zt({children:e}){const[t,r]=i.useState(!1);i.useEffect(()=>{(async()=>{try{await Yt(),Ht(),r(!0)}catch(c){console.error("Failed to init TMA",c)}})()},[]);const a=F(E.isDark);if(typeof window>"u")return null;const n=k();return o.jsx(Wt,{platform:["macos","ios"].includes(n?.tgWebAppPlatform)?"ios":"base",appearance:a?"dark":"light",children:t?e:"Loading…"})}function tr({children:e}){const t=Ft();return o.jsxs("html",{lang:"en",children:[o.jsxs("head",{children:[o.jsx("meta",{charSet:"utf-8"}),o.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),o.jsx(L,{}),o.jsx(B,{})]}),o.jsxs("body",{children:[t?o.jsx(Zt,{children:e}):o.jsx("div",{children:"Loading..."}),o.jsx(T,{}),o.jsx(D,{})]})]})}const rr=R(function(){return o.jsx(q,{})}),ar=M(function({error:t}){return I(t)?o.jsxs(o.Fragment,{children:[o.jsxs("h1",{children:[t.status," ",t.statusText]}),o.jsx("p",{children:t.data})]}):t instanceof Error?o.jsxs("div",{children:[o.jsx("h1",{children:"Error"}),o.jsx("p",{children:t.message}),o.jsx("p",{children:"The stack trace is:"}),o.jsx("pre",{children:t.stack})]}):o.jsx("h1",{children:"Unknown Error"})});export{ar as ErrorBoundary,tr as Layout,rr as default};
